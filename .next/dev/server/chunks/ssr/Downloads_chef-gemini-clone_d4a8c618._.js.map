{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Danny/Downloads/chef-gemini-clone/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from 'clsx'\nimport { twMerge } from 'tailwind-merge'\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,8MAAO,EAAC,IAAA,qLAAI,EAAC;AACtB"}},
    {"offset": {"line": 19, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Danny/Downloads/chef-gemini-clone/components/ui/button.tsx"],"sourcesContent":["import * as React from 'react'\nimport { Slot } from '@radix-ui/react-slot'\nimport { cva, type VariantProps } from 'class-variance-authority'\n\nimport { cn } from '@/lib/utils'\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default: 'bg-primary text-primary-foreground hover:bg-primary/90',\n        destructive:\n          'bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60',\n        outline:\n          'border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50',\n        secondary:\n          'bg-secondary text-secondary-foreground hover:bg-secondary/80',\n        ghost:\n          'hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50',\n        link: 'text-primary underline-offset-4 hover:underline',\n      },\n      size: {\n        default: 'h-9 px-4 py-2 has-[>svg]:px-3',\n        sm: 'h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5',\n        lg: 'h-10 rounded-md px-6 has-[>svg]:px-4',\n        icon: 'size-9',\n        'icon-sm': 'size-8',\n        'icon-lg': 'size-10',\n      },\n    },\n    defaultVariants: {\n      variant: 'default',\n      size: 'default',\n    },\n  },\n)\n\nfunction Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}: React.ComponentProps<'button'> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean\n  }) {\n  const Comp = asChild ? Slot : 'button'\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AACA;AAEA;;;;;AAEA,MAAM,iBAAiB,IAAA,+MAAG,EACxB,+bACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OACE;YACF,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;YACN,WAAW;YACX,WAAW;QACb;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,SAAS,OAAO,EACd,SAAS,EACT,OAAO,EACP,IAAI,EACJ,UAAU,KAAK,EACf,GAAG,OAIF;IACD,MAAM,OAAO,UAAU,gNAAI,GAAG;IAE9B,qBACE,sRAAC;QACC,aAAU;QACV,WAAW,IAAA,0JAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACvD,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 78, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Danny/Downloads/chef-gemini-clone/lib/time-greeting.ts"],"sourcesContent":["export function getTimeBasedGreeting(): {\n  greeting: string\n  placeholder: string\n  mealType: \"breakfast\" | \"lunch\" | \"dinner\"\n} {\n  const hour = new Date().getHours()\n\n  if (hour >= 5 && hour < 12) {\n    return {\n      greeting: \"Good morning, Cheff!\",\n      placeholder: \"What are you making for breakfast?\",\n      mealType: \"breakfast\",\n    }\n  } else if (hour >= 12 && hour < 17) {\n    return {\n      greeting: \"Good afternoon, Chef!\",\n      placeholder: \"What are you making for lunch?\",\n      mealType: \"lunch\",\n    }\n  } else {\n    return {\n      greeting: \"Good evening, Cheff!\",\n      placeholder: \"What are you making for dinner?\",\n      mealType: \"dinner\",\n    }\n  }\n}\n"],"names":[],"mappings":";;;;AAAO,SAAS;IAKd,MAAM,OAAO,IAAI,OAAO,QAAQ;IAEhC,IAAI,QAAQ,KAAK,OAAO,IAAI;QAC1B,OAAO;YACL,UAAU;YACV,aAAa;YACb,UAAU;QACZ;IACF,OAAO,IAAI,QAAQ,MAAM,OAAO,IAAI;QAClC,OAAO;YACL,UAAU;YACV,aAAa;YACb,UAAU;QACZ;IACF,OAAO;QACL,OAAO;YACL,UAAU;YACV,aAAa;YACb,UAAU;QACZ;IACF;AACF"}},
    {"offset": {"line": 108, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Danny/Downloads/chef-gemini-clone/components/scroll-aware-header.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useState, useEffect } from \"react\"\r\nimport { cn } from \"@/lib/utils\"\r\n\r\ninterface ScrollAwareHeaderProps {\r\n  rightContent?: React.ReactNode\r\n  maxWidth?: string\r\n  className?: string\r\n}\r\n\r\nexport function ScrollAwareHeader({ \r\n  rightContent, \r\n  maxWidth = \"max-w-2xl\",\r\n  className \r\n}: ScrollAwareHeaderProps) {\r\n  const [showHeader, setShowHeader] = useState(true)\r\n  const [lastScrollY, setLastScrollY] = useState(0)\r\n\r\n  useEffect(() => {\r\n    const controlNavbar = () => {\r\n      if (typeof window !== \"undefined\") {\r\n        if (window.scrollY > lastScrollY && window.scrollY > 50) {\r\n          setShowHeader(false)\r\n        } else {\r\n          setShowHeader(true)\r\n        }\r\n        setLastScrollY(window.scrollY)\r\n      }\r\n    }\r\n\r\n    window.addEventListener(\"scroll\", controlNavbar)\r\n    return () => window.removeEventListener(\"scroll\", controlNavbar)\r\n  }, [lastScrollY])\r\n\r\n  return (\r\n    <div\r\n      className={cn(\r\n        \"fixed top-0 left-0 right-0 z-50 w-full bg-white px-4 py-4 transition-transform duration-300 shadow-sm\",\r\n        showHeader ? \"translate-y-0\" : \"-translate-y-full\",\r\n        className\r\n      )}\r\n    >\r\n      <div className={cn(\"mx-auto flex items-center justify-between\", maxWidth)}>\r\n        <img src=\"/chef-logo.png\" alt=\"Chef\" className=\"h-10\" />\r\n        {rightContent}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAWO,SAAS,kBAAkB,EAChC,YAAY,EACZ,WAAW,WAAW,EACtB,SAAS,EACc;IACvB,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,yPAAQ,EAAC;IAC7C,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,yPAAQ,EAAC;IAE/C,IAAA,0PAAS,EAAC;QACR,MAAM,gBAAgB;YACpB;;QAQF;QAEA,OAAO,gBAAgB,CAAC,UAAU;QAClC,OAAO,IAAM,OAAO,mBAAmB,CAAC,UAAU;IACpD,GAAG;QAAC;KAAY;IAEhB,qBACE,sRAAC;QACC,WAAW,IAAA,0JAAE,EACX,yGACA,aAAa,kBAAkB,qBAC/B;kBAGF,cAAA,sRAAC;YAAI,WAAW,IAAA,0JAAE,EAAC,6CAA6C;;8BAC9D,sRAAC;oBAAI,KAAI;oBAAiB,KAAI;oBAAO,WAAU;;;;;;gBAC9C;;;;;;;;;;;;AAIT"}},
    {"offset": {"line": 163, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Danny/Downloads/chef-gemini-clone/convex/_generated/api.js"],"sourcesContent":["/* eslint-disable */\n/**\n * Generated `api` utility.\n *\n * THIS CODE IS AUTOMATICALLY GENERATED.\n *\n * To regenerate, run `npx convex dev`.\n * @module\n */\n\nimport { anyApi, componentsGeneric } from \"convex/server\";\n\n/**\n * A utility for referencing Convex functions in your app's API.\n *\n * Usage:\n * ```js\n * const myFunctionReference = api.myModule.myFunction;\n * ```\n */\nexport const api = anyApi;\nexport const internal = anyApi;\nexport const components = componentsGeneric();\n"],"names":[],"mappings":"AAAA,kBAAkB,GAClB;;;;;;;CAOC;;;;;;;;AAED;AAAA;AAAA;;AAUO,MAAM,MAAM,wMAAM;AAClB,MAAM,WAAW,wMAAM;AACvB,MAAM,aAAa,IAAA,mPAAiB"}},
    {"offset": {"line": 189, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Danny/Downloads/chef-gemini-clone/components/feedback-modal.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useState } from \"react\"\r\nimport { useMutation } from \"convex/react\"\r\nimport { api } from \"@/convex/_generated/api\"\r\nimport { cn } from \"@/lib/utils\"\r\n\r\ninterface FeedbackModalProps {\r\n  isOpen: boolean\r\n  onClose: () => void\r\n}\r\n\r\nexport function FeedbackModal({ isOpen, onClose }: FeedbackModalProps) {\r\n  const [rating, setRating] = useState<number | null>(null)\r\n  const [comment, setComment] = useState(\"\")\r\n  const [isSubmitting, setIsSubmitting] = useState(false)\r\n  const [showSuccess, setShowSuccess] = useState(false)\r\n  const submitFeedback = useMutation(api.mutations.submitFeedback)\r\n\r\n  if (!isOpen) return null\r\n\r\n  const ratings = [\r\n    { value: 1, emoji: \"ðŸ˜–\", label: \"Poor\" },\r\n    { value: 2, emoji: \"ðŸ™\", label: \"Bad\" },\r\n    { value: 3, emoji: \"ðŸ˜\", label: \"Okay\" },\r\n    { value: 4, emoji: \"ðŸ™‚\", label: \"Good\" },\r\n    { value: 5, emoji: \"ðŸ¤©\", label: \"Amazing\" },\r\n  ]\r\n\r\n  const handleSubmit = async () => {\r\n    if (!rating) return\r\n    \r\n    setIsSubmitting(true)\r\n    try {\r\n      await submitFeedback({\r\n        rating,\r\n        comment: comment.trim() || undefined,\r\n      })\r\n      // Show success message\r\n      setShowSuccess(true)\r\n      // Auto-close after 2 seconds\r\n      setTimeout(() => {\r\n        setRating(null)\r\n        setComment(\"\")\r\n        setShowSuccess(false)\r\n        onClose()\r\n      }, 2000)\r\n    } catch (error) {\r\n      console.error(\"Failed to submit feedback:\", error)\r\n      alert(\"Failed to submit feedback. Please try again.\")\r\n    } finally {\r\n      setIsSubmitting(false)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 z-[100] flex items-center justify-center px-4\">\r\n      {/* Backdrop */}\r\n      <div \r\n        className=\"absolute inset-0 bg-black/40 backdrop-blur-sm transition-opacity\" \r\n        onClick={onClose}\r\n      />\r\n      \r\n      {/* Modal */}\r\n      <div className=\"relative bg-white rounded-3xl p-6 sm:p-8 w-full max-w-md shadow-2xl animate-in fade-in zoom-in-95 duration-200\">\r\n        {showSuccess ? (\r\n          // Success Message\r\n          <div className=\"text-center py-8\">\r\n            <div className=\"mb-4 text-6xl\">âœ…</div>\r\n            <h3 className=\"text-2xl font-bold text-neutral-900 mb-2\">Thank you!</h3>\r\n            <p className=\"text-neutral-600 text-sm\">Your feedback has been submitted successfully</p>\r\n          </div>\r\n        ) : (\r\n          // Feedback Form\r\n          <>\r\n        <div className=\"text-center space-y-1 sm:space-y-2 mb-6 sm:mb-8\">\r\n          <h2 className=\"text-xl sm:text-2xl font-bold text-neutral-900\">Enjoying Chef?</h2>\r\n          <p className=\"text-neutral-500 text-xs sm:text-sm px-2 sm:px-4\">\r\n            Your feedback will help us improve to give you a better experience in future\r\n          </p>\r\n        </div>\r\n\r\n        {/* Emojis */}\r\n        <div className=\"flex justify-center gap-1 mb-1\">\r\n           {ratings.map((r) => (\r\n             <button \r\n               key={r.value}\r\n               onClick={() => setRating(r.value)}\r\n               className={cn(\r\n                 \"text-3xl sm:text-4xl p-1.5 sm:p-2 transition-all duration-300 transform hover:scale-110 relative group\",\r\n                 rating === r.value ? \"scale-110\" : \"grayscale opacity-40 hover:grayscale-0 hover:opacity-100\"\r\n               )}\r\n             >\r\n               <span className=\"relative z-10\">{r.emoji}</span>\r\n               {rating === r.value && (\r\n                 <div className=\"absolute inset-0 bg-yellow-400/20 blur-xl rounded-full z-0\" />\r\n               )}\r\n             </button>\r\n           ))}\r\n        </div>\r\n        \r\n        {/* Label */}\r\n        <div className=\"text-center h-5 sm:h-6 mb-6 sm:mb-8 font-bold text-neutral-900 text-base sm:text-lg\">\r\n          {rating ? ratings.find(r => r.value === rating)?.label : \"\"}\r\n        </div>\r\n\r\n        {/* Textarea */}\r\n        <textarea\r\n          value={comment}\r\n          onChange={(e) => setComment(e.target.value)}\r\n          placeholder=\"Why this experience? You can leave it empty\"\r\n          className=\"w-full bg-neutral-50 border border-neutral-200 rounded-2xl p-3 sm:p-4 text-neutral-900 placeholder:text-neutral-400 focus:outline-none focus:ring-2 focus:ring-neutral-900 focus:bg-white transition-all resize-none h-28 sm:h-32 mb-6 sm:mb-8 text-sm sm:text-base\"\r\n        />\r\n\r\n        {/* Button */}\r\n        <button \r\n          onClick={handleSubmit}\r\n          disabled={isSubmitting || !rating}\r\n          className=\"w-full bg-neutral-900 text-white font-bold py-3.5 sm:py-4 rounded-full hover:bg-neutral-800 active:scale-[0.98] transition-all disabled:opacity-70 disabled:cursor-not-allowed text-sm sm:text-base\"\r\n        >\r\n          {isSubmitting ? \"Sending...\" : \"Send Feedback\"}\r\n        </button>\r\n\r\n        </>\r\n        )}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AACA;AACA;AALA;;;;;;AAYO,SAAS,cAAc,EAAE,MAAM,EAAE,OAAO,EAAsB;IACnE,MAAM,CAAC,QAAQ,UAAU,GAAG,IAAA,yPAAQ,EAAgB;IACpD,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yPAAQ,EAAC;IACvC,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,yPAAQ,EAAC;IACjD,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,yPAAQ,EAAC;IAC/C,MAAM,iBAAiB,IAAA,+MAAW,EAAC,0KAAG,CAAC,SAAS,CAAC,cAAc;IAE/D,IAAI,CAAC,QAAQ,OAAO;IAEpB,MAAM,UAAU;QACd;YAAE,OAAO;YAAG,OAAO;YAAM,OAAO;QAAO;QACvC;YAAE,OAAO;YAAG,OAAO;YAAM,OAAO;QAAM;QACtC;YAAE,OAAO;YAAG,OAAO;YAAM,OAAO;QAAO;QACvC;YAAE,OAAO;YAAG,OAAO;YAAM,OAAO;QAAO;QACvC;YAAE,OAAO;YAAG,OAAO;YAAM,OAAO;QAAU;KAC3C;IAED,MAAM,eAAe;QACnB,IAAI,CAAC,QAAQ;QAEb,gBAAgB;QAChB,IAAI;YACF,MAAM,eAAe;gBACnB;gBACA,SAAS,QAAQ,IAAI,MAAM;YAC7B;YACA,uBAAuB;YACvB,eAAe;YACf,6BAA6B;YAC7B,WAAW;gBACT,UAAU;gBACV,WAAW;gBACX,eAAe;gBACf;YACF,GAAG;QACL,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,8BAA8B;YAC5C,MAAM;QACR,SAAU;YACR,gBAAgB;QAClB;IACF;IAEA,qBACE,sRAAC;QAAI,WAAU;;0BAEb,sRAAC;gBACC,WAAU;gBACV,SAAS;;;;;;0BAIX,sRAAC;gBAAI,WAAU;0BACZ,cACC,kBAAkB;8BAClB,sRAAC;oBAAI,WAAU;;sCACb,sRAAC;4BAAI,WAAU;sCAAgB;;;;;;sCAC/B,sRAAC;4BAAG,WAAU;sCAA2C;;;;;;sCACzD,sRAAC;4BAAE,WAAU;sCAA2B;;;;;;;;;;;2BAG1C,gBAAgB;8BAChB;;sCACF,sRAAC;4BAAI,WAAU;;8CACb,sRAAC;oCAAG,WAAU;8CAAiD;;;;;;8CAC/D,sRAAC;oCAAE,WAAU;8CAAmD;;;;;;;;;;;;sCAMlE,sRAAC;4BAAI,WAAU;sCACX,QAAQ,GAAG,CAAC,CAAC,kBACZ,sRAAC;oCAEC,SAAS,IAAM,UAAU,EAAE,KAAK;oCAChC,WAAW,IAAA,0JAAE,EACX,0GACA,WAAW,EAAE,KAAK,GAAG,cAAc;;sDAGrC,sRAAC;4CAAK,WAAU;sDAAiB,EAAE,KAAK;;;;;;wCACvC,WAAW,EAAE,KAAK,kBACjB,sRAAC;4CAAI,WAAU;;;;;;;mCATZ,EAAE,KAAK;;;;;;;;;;sCAgBnB,sRAAC;4BAAI,WAAU;sCACZ,SAAS,QAAQ,IAAI,CAAC,CAAA,IAAK,EAAE,KAAK,KAAK,SAAS,QAAQ;;;;;;sCAI3D,sRAAC;4BACC,OAAO;4BACP,UAAU,CAAC,IAAM,WAAW,EAAE,MAAM,CAAC,KAAK;4BAC1C,aAAY;4BACZ,WAAU;;;;;;sCAIZ,sRAAC;4BACC,SAAS;4BACT,UAAU,gBAAgB,CAAC;4BAC3B,WAAU;sCAET,eAAe,eAAe;;;;;;;;;;;;;;;;;;;AAQzC"}},
    {"offset": {"line": 415, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Danny/Downloads/chef-gemini-clone/components/recipe-input.tsx"],"sourcesContent":["\"use client\";\n\nimport type React from \"react\";\nimport { useState, useEffect } from \"react\";\nimport { Button } from \"@/components/ui/button\";\nimport { getTimeBasedGreeting } from \"@/lib/time-greeting\";\nimport { ScrollAwareHeader } from \"@/components/scroll-aware-header\";\nimport { FeedbackModal } from \"@/components/feedback-modal\";\nimport { cn } from \"@/lib/utils\";\n\ninterface RecipeInputProps {\n  onGenerate: (input: string, inputType: \"youtube\" | \"text\") => Promise<void>;\n  isLoading: boolean;\n}\n\nexport function RecipeInput({ onGenerate, isLoading }: RecipeInputProps) {\n  const [youtubeUrl, setYoutubeUrl] = useState(\"\");\n  const [recipeText, setRecipeText] = useState(\"\");\n  const [inputType, setInputType] = useState<\"youtube\" | \"text\">(\"text\");\n  const [error, setError] = useState(\"\");\n  const [greeting, setGreeting] = useState(\"\");\n  const [placeholder, setPlaceholder] = useState(\"\");\n  const [isFocused, setIsFocused] = useState(false);\n  const [showFeedback, setShowFeedback] = useState(false);\n\n  useEffect(() => {\n    const { greeting: g, placeholder: p } = getTimeBasedGreeting();\n    setGreeting(g);\n    setPlaceholder(p);\n\n    const interval = setInterval(() => {\n      const { greeting: newG, placeholder: newP } = getTimeBasedGreeting();\n      setGreeting(newG);\n      setPlaceholder(newP);\n    }, 60000);\n\n    return () => clearInterval(interval);\n  }, []);\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setError(\"\");\n\n    const input = inputType === \"youtube\" ? youtubeUrl : recipeText;\n\n    if (!input.trim()) {\n      setError(\"Please enter a YouTube URL or recipe text\");\n      return;\n    }\n\n    try {\n      await onGenerate(input, inputType);\n    } catch {\n      setError(\"Failed to generate recipe. Please try again.\");\n    }\n  };\n\n  const textareaClass =\n    \"flex-grow text-3xl sm:text-4xl md:text-5xl font-medium placeholder:text-neutral-300 text-neutral-900 \" +\n    \"bg-transparent border-none outline-none focus:outline-none focus-visible:outline-none \" +\n    \"focus:ring-0 focus:ring-transparent shadow-none resize-none p-0 leading-tight\";\n\n  return (\n    <>\n      <div className=\"min-h-screen bg-neutral-100 flex flex-col\">\n        <ScrollAwareHeader\n          rightContent={\n            <button\n              onClick={() => setShowFeedback(true)}\n              className=\"px-4 py-2 bg-neutral-100 hover:bg-neutral-200 text-neutral-900 text-sm font-semibold rounded-full transition-colors\"\n            >\n              Feedback\n            </button>\n          }\n        />\n\n        <div className=\"flex-grow flex flex-col px-4 pt-24 pb-8\">\n          <div className=\"w-full max-w-2xl mx-auto space-y-4 sm:space-y-8\">\n            {/* Greeting Header */}\n            <div className=\"space-y-2 sm:space-y-6 text-left sm:text-left pl-2\">\n              <h1 className=\"text-4xl sm:text-5xl md:text-6xl font-bold text-neutral-900 tracking-tight\">\n                {greeting}\n              </h1>\n            </div>\n\n            <div className=\"space-y-4 sm:space-y-6\">\n              {/* Tabs */}\n              <div className=\"flex items-center gap-8 border-b border-transparent px-2\">\n                <button\n                  onClick={() => setInputType(\"text\")}\n                  className={cn(\n                    \"pb-2 text-lg font-semibold transition-all relative\",\n                    inputType === \"text\"\n                      ? \"text-neutral-900\"\n                      : \"text-neutral-400 hover:text-neutral-700\"\n                  )}\n                >\n                  Describe\n                  {inputType === \"text\" && (\n                    <span className=\"absolute bottom-0 left-0 w-full h-0.5 bg-neutral-900 rounded-full\" />\n                  )}\n                </button>\n\n                <button\n                  onClick={() => setInputType(\"youtube\")}\n                  className={cn(\n                    \"pb-2 text-lg font-semibold transition-all relative\",\n                    inputType === \"youtube\"\n                      ? \"text-neutral-900\"\n                      : \"text-neutral-400 hover:text-neutral-700\"\n                  )}\n                >\n                  Youtube\n                  {inputType === \"youtube\" && (\n                    <span className=\"absolute bottom-0 left-0 w-full h-0.5 bg-neutral-900 rounded-full\" />\n                  )}\n                </button>\n              </div>\n\n              {/* Input Card */}\n              <form onSubmit={handleSubmit} className=\"relative\">\n                <div\n                  className={cn(\n                    \"bg-white rounded-[2rem] sm:rounded-[2.5rem] p-6 sm:p-8 min-h-[400px] sm:min-h-[500px] md:min-h-[550px] flex flex-col transition-all duration-200\",\n                    isFocused\n                      ? \"border-2 border-neutral-900 shadow-md\"\n                      : \"border border-transparent\"\n                  )}\n                >\n                  {/* TEXTAREA */}\n                  {inputType === \"youtube\" ? (\n                    <textarea\n                      placeholder=\"Place the YouTube url here\"\n                      value={youtubeUrl}\n                      onChange={(e) => setYoutubeUrl(e.target.value)}\n                      onFocus={() => setIsFocused(true)}\n                      onBlur={() => setIsFocused(false)}\n                      className={textareaClass}\n                      disabled={isLoading}\n                    />\n                  ) : (\n                    <textarea\n                      placeholder={placeholder}\n                      value={recipeText}\n                      onChange={(e) => {\n                        const val = e.target.value;\n                        setRecipeText(\n                          val.charAt(0).toUpperCase() + val.slice(1)\n                        );\n                      }}\n                      onFocus={() => setIsFocused(true)}\n                      onBlur={() => setIsFocused(false)}\n                      className={textareaClass}\n                      disabled={isLoading}\n                    />\n                  )}\n\n                  {/* ERROR */}\n                  {error && (\n                    <div className=\"text-red-500 text-sm font-medium mt-2\">\n                      {error}\n                    </div>\n                  )}\n\n                  {/* BUTTON */}\n                  <div className=\"mt-8\">\n                    <Button\n                      type=\"submit\"\n                      size=\"lg\"\n                      className=\"w-full h-14 bg-neutral-900 hover:bg-neutral-800 text-white text-lg font-medium rounded-full shadow-lg transition-all hover:scale-[1.02] active:scale-[0.98]\"\n                      disabled={isLoading}\n                    >\n                      {isLoading ? \"Cooking...\" : \"Create Recipe\"}\n                    </Button>\n                  </div>\n                </div>\n              </form>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <FeedbackModal\n        isOpen={showFeedback}\n        onClose={() => setShowFeedback(false)}\n      />\n    </>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 666, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Danny/Downloads/chef-gemini-clone/components/recipe-overview.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState } from \"react\"\nimport { X } from \"lucide-react\"\nimport { ScrollAwareHeader } from \"@/components/scroll-aware-header\"\nimport { cn } from \"@/lib/utils\"\n\ninterface RecipeOverviewProps {\n  recipe: {\n    recipe_name: string\n    summary: string\n    prep_time: string\n    servings: string\n    image?: string\n    nutritional_info?: {\n      calories: string\n      fat?: string\n      carbs?: string\n      protein?: string\n    }\n    tools?: string[]\n    allergens?: string[]\n    image_keywords?: string\n    youtube_thumbnail?: string\n  }\n  onStartCooking: () => void\n  onBack: () => void\n}\n\nexport function RecipeOverview({ recipe, onStartCooking, onBack }: RecipeOverviewProps) {\n  const originalServings = Number.parseInt(recipe.servings) || 4\n  const [currentServings, setCurrentServings] = useState(originalServings)\n  const [imageLoaded, setImageLoaded] = useState(false)\n\n  const servingsMultiplier = currentServings / originalServings\n\n  const decreaseServings = () => {\n    setCurrentServings(Math.max(1, currentServings - 1))\n  }\n\n  const increaseServings = () => {\n    setCurrentServings(currentServings + 1)\n  }\n\n  // Calculate adjusted calories based on servings\n  const adjustedCalories = recipe.nutritional_info?.calories\n    ? Math.round(Number.parseInt(recipe.nutritional_info.calories) * servingsMultiplier)\n    : null\n\n  // Determine which image to use: YouTube thumbnail or AI-generated\n  const imageUrl = recipe.youtube_thumbnail \n    ? recipe.youtube_thumbnail\n    : `https://pollinations.ai/p/${encodeURIComponent(recipe.image_keywords || recipe.recipe_name)}?width=1280&height=720&seed=42&model=flux`\n\n  return (\n    <div className=\"min-h-screen bg-neutral-100\">\n      <ScrollAwareHeader \n        maxWidth=\"max-w-4xl\"\n        rightContent={\n          <button \n            onClick={onBack}\n            className=\"p-2 -mr-2 text-neutral-500 hover:text-neutral-900 hover:bg-neutral-100 rounded-full transition-colors\"\n          >\n            <X className=\"w-6 h-6\" />\n          </button>\n        }\n      />\n\n      {/* Main Content Container */}\n      <div className=\"mx-auto max-w-4xl px-4 sm:px-6 lg:px-8 pb-32 pt-24\">\n        {/* Hero Image */}\n        <div className=\"w-full aspect-video bg-neutral-100 rounded-3xl overflow-hidden mb-8 shadow-sm relative\">\n          {!imageLoaded && (\n            <div className=\"absolute inset-0 flex items-center justify-center bg-neutral-100 z-10\">\n              <img \n                src=\"/loadLogo.png\" \n                alt=\"Loading...\" \n                className=\"w-20 h-20 animate-spin object-contain\" \n              />\n            </div>\n          )}\n          <img\n            src={imageUrl}\n            alt={recipe.recipe_name}\n            className={cn(\n              \"w-full h-full object-cover transition-opacity duration-700\",\n              imageLoaded ? \"opacity-100\" : \"opacity-0\"\n            )}\n            loading=\"lazy\"\n            onLoad={() => setImageLoaded(true)}\n          />\n        </div>\n        {/* Title and Link */}\n        <div className=\"mb-6\">\n          <div className=\"flex items-center gap-2 mb-2\">\n            <h1 className=\"text-3xl sm:text-5xl font-bold text-foreground\">{recipe.recipe_name}</h1>\n            <button className=\"text-2xl text-muted-foreground hover:text-foreground transition-colors\">ðŸ”—</button>\n          </div>\n        </div>\n\n        {/* Description */}\n        {/* Summary Card */}\n        <div className=\"bg-white rounded-3xl p-5 sm:p-6 mb-8\">\n          {/* Description */}\n          <p className=\"text-base sm:text-lg text-muted-foreground leading-relaxed mb-8\">{recipe.summary}</p>\n\n          {/* Stats Cards */}\n          <div className=\"grid grid-cols-2 sm:grid-cols-3 gap-3 mb-8\">\n            <div className=\"bg-neutral-100 px-4 py-4 rounded-2xl\">\n              <p className=\"text-sm text-muted-foreground mb-1\">Cooking time</p>\n              <p className=\"font-semibold text-foreground text-lg\">{recipe.prep_time}</p>\n            </div>\n            <div className=\"bg-neutral-100 px-4 py-4 rounded-2xl\">\n              <p className=\"text-sm text-muted-foreground mb-1\">Servings</p>\n              <p className=\"font-semibold text-foreground text-lg\">{currentServings}</p>\n            </div>\n            {adjustedCalories && (\n              <div className=\"bg-neutral-100 px-4 py-4 rounded-2xl\">\n                <p className=\"text-sm text-muted-foreground mb-1\">Calories</p>\n                <p className=\"font-semibold text-foreground text-lg\">{adjustedCalories} kcal</p>\n              </div>\n            )}\n          </div>\n\n          {/* Serving Adjuster */}\n          <div className=\"flex items-center justify-between pt-2\">\n            <button\n              onClick={decreaseServings}\n              className=\"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-neutral-100 hover:bg-neutral-200 flex items-center justify-center text-lg sm:text-xl font-semibold transition-colors\"\n            >\n              âˆ’\n            </button>\n            <span className=\"text-lg font-semibold text-foreground\">Cooking for {currentServings}</span>\n            <button\n              onClick={increaseServings}\n              className=\"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-neutral-100 hover:bg-neutral-200 flex items-center justify-center text-lg sm:text-xl font-semibold transition-colors\"\n            >\n              +\n            </button>\n          </div>\n        </div>\n\n        {/* Things to Note Section */}\n        {/* Things to Note Section */}\n        <div className=\"mb-8\">\n          <h2 className=\"text-2xl font-bold text-foreground mb-6 pl-2\">Things to note</h2>\n\n          <div className=\"bg-white rounded-3xl p-5 sm:p-6\">\n            {/* Tools */}\n            {recipe.tools && recipe.tools.length > 0 && (\n              <div className=\"mb-8\">\n                <h3 className=\"font-semibold text-foreground mb-4\">Tools</h3>\n                <div className=\"flex flex-wrap gap-2\">\n                  {recipe.tools.map((tool) => (\n                    <span\n                      key={tool}\n                      className=\"px-4 py-2 bg-neutral-100 rounded-xl text-sm text-foreground font-medium\"\n                    >\n                      {tool}\n                    </span>\n                  ))}\n                </div>\n              </div>\n            )}\n\n            {/* Allergens */}\n            {recipe.allergens && recipe.allergens.length > 0 && (\n              <div>\n                <div className=\"flex items-center gap-2 mb-3\">\n                  <h3 className=\"font-semibold text-foreground\">Potential Allergens</h3>\n                  <span className=\"text-muted-foreground cursor-help\" title=\"Allergen information\">â“˜</span>\n                </div>\n                <div className=\"flex flex-wrap gap-2\">\n                  {recipe.allergens.map((allergen) => (\n                    <span\n                      key={allergen}\n                      className=\"px-4 py-2 bg-yellow-50 text-yellow-700 rounded-xl text-sm font-medium border border-yellow-100\"\n                    >\n                      {allergen}\n                    </span>\n                  ))}\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n\n        {/* Start Cooking Button */}\n        {/* Floating Start Cooking Button */}\n        <div className=\"fixed bottom-8 left-1/2 -translate-x-1/2 z-40 w-full max-w-md px-4\">\n          <button\n            onClick={onStartCooking}\n            className=\"w-full bg-neutral-900 hover:bg-neutral-800 text-white font-bold py-3 px-5 sm:py-4 sm:px-6 rounded-full shadow-xl transition-all transform hover:scale-[1.02] active:scale-[0.98] text-base sm:text-lg flex items-center justify-center gap-2\"\n          >\n            <span>Start Cooking</span>\n            <span className=\"text-xl\">â†’</span>\n          </button>\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1090, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Danny/Downloads/chef-gemini-clone/components/voice-control-button.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { Mic, MicOff, Volume2, HelpCircle } from \"lucide-react\";\r\nimport { cn } from \"@/lib/utils\";\r\nimport { useState } from \"react\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\n\r\ninterface VoiceControlButtonProps {\r\n  isListening: boolean;\r\n  isSupported: boolean;\r\n  lastCommand: string | null;\r\n  error: string | null;\r\n  onStartListening: () => void;\r\n  onStopListening: () => void;\r\n  onShowHelp?: () => void;\r\n}\r\n\r\nexport function VoiceControlButton({\r\n  isListening,\r\n  isSupported,\r\n  lastCommand,\r\n  error,\r\n  onStartListening,\r\n  onStopListening,\r\n  onShowHelp,\r\n}: VoiceControlButtonProps) {\r\n  const [showFeedback, setShowFeedback] = useState(false);\r\n\r\n  if (!isSupported) {\r\n    return null; // Don't show if browser doesn't support voice\r\n  }\r\n\r\n  const handleClick = () => {\r\n    if (isListening) {\r\n      onStopListening();\r\n    } else {\r\n      onStartListening();\r\n      setShowFeedback(true);\r\n      setTimeout(() => setShowFeedback(false), 3000);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"fixed bottom-8 left-1/2 -translate-x-1/2 w-full max-w-4xl px-4 sm:px-6 z-50 pointer-events-none\">\r\n      <div className=\"flex flex-col items-end gap-3 pointer-events-auto\">\r\n        {/* Feedback Toast */}\r\n        <AnimatePresence>\r\n          {(showFeedback || lastCommand || error) && (\r\n            <motion.div\r\n              initial={{ opacity: 0, x: 20, scale: 0.9 }}\r\n              animate={{ opacity: 1, x: 0, scale: 1 }}\r\n              exit={{ opacity: 0, x: 20, scale: 0.9 }}\r\n              className={cn(\r\n                \"px-4 py-2 rounded-2xl shadow-lg backdrop-blur-xl border text-sm font-medium max-w-xs\",\r\n                error\r\n                  ? \"bg-red-50/90 border-red-200 text-red-700\"\r\n                  : isListening\r\n                    ? \"bg-blue-50/90 border-blue-200 text-blue-700\"\r\n                    : \"bg-green-50/90 border-green-200 text-green-700\"\r\n              )}\r\n            >\r\n              {error || (isListening ? \"Listening...\" : lastCommand || \"Ready\")}\r\n            </motion.div>\r\n          )}\r\n        </AnimatePresence>\r\n\r\n        {/* Help Button */}\r\n        <button\r\n          onClick={onShowHelp}\r\n          className=\"p-3 bg-neutral-100 hover:bg-neutral-200 text-neutral-600 rounded-full shadow-lg transition-all transform hover:scale-105 active:scale-95\"\r\n          title=\"Voice commands help\"\r\n        >\r\n          <HelpCircle className=\"w-5 h-5\" />\r\n        </button>\r\n\r\n        {/* Main Voice Button */}\r\n        <button\r\n          onClick={handleClick}\r\n          className={cn(\r\n            \"relative p-5 rounded-full shadow-2xl transition-all transform hover:scale-105 active:scale-95\",\r\n            isListening\r\n              ? \"bg-red-500 hover:bg-red-600 text-white animate-pulse\"\r\n              : \"bg-neutral-900 hover:bg-neutral-800 text-white\"\r\n          )}\r\n          title={isListening ? \"Stop listening\" : \"Start voice control\"}\r\n        >\r\n          {/* Listening Animation Rings */}\r\n          {isListening && (\r\n            <>\r\n              <span className=\"absolute inset-0 rounded-full bg-red-400 animate-ping opacity-75\" />\r\n              <span className=\"absolute inset-0 rounded-full bg-red-400 animate-pulse opacity-50\" />\r\n            </>\r\n          )}\r\n\r\n          {/* Icon */}\r\n          <div className=\"relative z-10\">\r\n            {isListening ? (\r\n              <MicOff className=\"w-7 h-7\" />\r\n            ) : (\r\n              <Mic className=\"w-7 h-7\" />\r\n            )}\r\n          </div>\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\ninterface VoiceHelpModalProps {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n}\r\n\r\nexport function VoiceHelpModal({ isOpen, onClose }: VoiceHelpModalProps) {\r\n  if (!isOpen) return null;\r\n\r\n  const commands = [\r\n    {\r\n      category: \"Navigation\",\r\n      items: [\r\n        { command: \"Next step\", description: \"Move to the next cooking step\" },\r\n        { command: \"Previous step\", description: \"Go back to previous step\" },\r\n        {\r\n          command: \"Go to step [number]\",\r\n          description: \"Jump to a specific step\",\r\n        },\r\n        { command: \"Repeat\", description: \"Read current step again\" },\r\n      ],\r\n    },\r\n    {\r\n      category: \"Timers\",\r\n      items: [\r\n        {\r\n          command: \"Start timer\",\r\n          description: \"Start the timer for current step\",\r\n        },\r\n        { command: \"Pause timer\", description: \"Pause the running timer\" },\r\n        { command: \"Resume timer\", description: \"Resume the paused timer\" },\r\n      ],\r\n    },\r\n    {\r\n      category: \"View\",\r\n      items: [\r\n        {\r\n          command: \"Show ingredients\",\r\n          description: \"Switch to ingredients tab\",\r\n        },\r\n        { command: \"Show directions\", description: \"Switch to directions tab\" },\r\n        { command: \"Read step\", description: \"Read current step aloud\" },\r\n      ],\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <div\r\n      className=\"fixed inset-0 z-[100] flex items-center justify-center bg-black/50 backdrop-blur-sm p-4\"\r\n      onClick={onClose}\r\n    >\r\n      <motion.div\r\n        initial={{ opacity: 0, scale: 0.9 }}\r\n        animate={{ opacity: 1, scale: 1 }}\r\n        exit={{ opacity: 0, scale: 0.9 }}\r\n        onClick={(e) => e.stopPropagation()}\r\n        className=\"bg-white rounded-3xl shadow-2xl max-w-2xl w-full max-h-[80vh] overflow-y-auto\"\r\n      >\r\n        <div className=\"p-6 border-b border-neutral-100 sticky top-0 bg-white rounded-t-3xl\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div className=\"flex items-center gap-3\">\r\n              <div className=\"p-2 bg-blue-100 rounded-xl\">\r\n                <Volume2 className=\"w-6 h-6 text-blue-600\" />\r\n              </div>\r\n              <div>\r\n                <h2 className=\"text-2xl font-bold text-neutral-900\">\r\n                  Voice Commands\r\n                </h2>\r\n                <p className=\"text-sm text-neutral-500\">\r\n                  Hands-free cooking made easy\r\n                </p>\r\n              </div>\r\n            </div>\r\n            <button\r\n              onClick={onClose}\r\n              className=\"p-2 hover:bg-neutral-100 rounded-full transition-colors\"\r\n            >\r\n              <svg\r\n                className=\"w-6 h-6 text-neutral-500\"\r\n                fill=\"none\"\r\n                viewBox=\"0 0 24 24\"\r\n                stroke=\"currentColor\"\r\n              >\r\n                <path\r\n                  strokeLinecap=\"round\"\r\n                  strokeLinejoin=\"round\"\r\n                  strokeWidth={2}\r\n                  d=\"M6 18L18 6M6 6l12 12\"\r\n                />\r\n              </svg>\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"p-6 space-y-6\">\r\n          {commands.map((section) => (\r\n            <div key={section.category}>\r\n              <h3 className=\"text-lg font-bold text-neutral-900 mb-3\">\r\n                {section.category}\r\n              </h3>\r\n              <div className=\"space-y-2\">\r\n                {section.items.map((item) => (\r\n                  <div\r\n                    key={item.command}\r\n                    className=\"flex items-start gap-3 p-3 bg-neutral-50 rounded-xl hover:bg-neutral-100 transition-colors\"\r\n                  >\r\n                    <div className=\"p-1.5 bg-blue-100 rounded-lg mt-0.5\">\r\n                      <Mic className=\"w-4 h-4 text-blue-600\" />\r\n                    </div>\r\n                    <div className=\"flex-1\">\r\n                      <p className=\"font-semibold text-neutral-900\">\r\n                        \"{item.command}\"\r\n                      </p>\r\n                      <p className=\"text-sm text-neutral-600\">\r\n                        {item.description}\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          ))}\r\n\r\n          <div className=\"p-4 bg-blue-50 rounded-xl border border-blue-100\">\r\n            <p className=\"text-sm text-blue-900\">\r\n              <strong>ðŸ’¡ Tip:</strong> Click the microphone button and speak\r\n              clearly. The app will confirm what it heard and execute the\r\n              command.\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </motion.div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;;;AAEA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AALA;;;;;;AAiBO,SAAS,mBAAmB,EACjC,WAAW,EACX,WAAW,EACX,WAAW,EACX,KAAK,EACL,gBAAgB,EAChB,eAAe,EACf,UAAU,EACc;IACxB,MAAM,CAAC,cAAc,gBAAgB,GAAG,IAAA,yPAAQ,EAAC;IAEjD,IAAI,CAAC,aAAa;QAChB,OAAO,MAAM,8CAA8C;IAC7D;IAEA,MAAM,cAAc;QAClB,IAAI,aAAa;YACf;QACF,OAAO;YACL;YACA,gBAAgB;YAChB,WAAW,IAAM,gBAAgB,QAAQ;QAC3C;IACF;IAEA,qBACE,sRAAC;QAAI,WAAU;kBACb,cAAA,sRAAC;YAAI,WAAU;;8BAEb,sRAAC,oPAAe;8BACb,CAAC,gBAAgB,eAAe,KAAK,mBACpC,sRAAC,4OAAM,CAAC,GAAG;wBACT,SAAS;4BAAE,SAAS;4BAAG,GAAG;4BAAI,OAAO;wBAAI;wBACzC,SAAS;4BAAE,SAAS;4BAAG,GAAG;4BAAG,OAAO;wBAAE;wBACtC,MAAM;4BAAE,SAAS;4BAAG,GAAG;4BAAI,OAAO;wBAAI;wBACtC,WAAW,IAAA,0JAAE,EACX,wFACA,QACI,6CACA,cACE,gDACA;kCAGP,SAAS,CAAC,cAAc,iBAAiB,eAAe,OAAO;;;;;;;;;;;8BAMtE,sRAAC;oBACC,SAAS;oBACT,WAAU;oBACV,OAAM;8BAEN,cAAA,sRAAC,wQAAU;wBAAC,WAAU;;;;;;;;;;;8BAIxB,sRAAC;oBACC,SAAS;oBACT,WAAW,IAAA,0JAAE,EACX,iGACA,cACI,yDACA;oBAEN,OAAO,cAAc,mBAAmB;;wBAGvC,6BACC;;8CACE,sRAAC;oCAAK,WAAU;;;;;;8CAChB,sRAAC;oCAAK,WAAU;;;;;;;;sCAKpB,sRAAC;4BAAI,WAAU;sCACZ,4BACC,sRAAC,4PAAM;gCAAC,WAAU;;;;;qDAElB,sRAAC,+OAAG;gCAAC,WAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAO7B;AAOO,SAAS,eAAe,EAAE,MAAM,EAAE,OAAO,EAAuB;IACrE,IAAI,CAAC,QAAQ,OAAO;IAEpB,MAAM,WAAW;QACf;YACE,UAAU;YACV,OAAO;gBACL;oBAAE,SAAS;oBAAa,aAAa;gBAAgC;gBACrE;oBAAE,SAAS;oBAAiB,aAAa;gBAA2B;gBACpE;oBACE,SAAS;oBACT,aAAa;gBACf;gBACA;oBAAE,SAAS;oBAAU,aAAa;gBAA0B;aAC7D;QACH;QACA;YACE,UAAU;YACV,OAAO;gBACL;oBACE,SAAS;oBACT,aAAa;gBACf;gBACA;oBAAE,SAAS;oBAAe,aAAa;gBAA0B;gBACjE;oBAAE,SAAS;oBAAgB,aAAa;gBAA0B;aACnE;QACH;QACA;YACE,UAAU;YACV,OAAO;gBACL;oBACE,SAAS;oBACT,aAAa;gBACf;gBACA;oBAAE,SAAS;oBAAmB,aAAa;gBAA2B;gBACtE;oBAAE,SAAS;oBAAa,aAAa;gBAA0B;aAChE;QACH;KACD;IAED,qBACE,sRAAC;QACC,WAAU;QACV,SAAS;kBAET,cAAA,sRAAC,4OAAM,CAAC,GAAG;YACT,SAAS;gBAAE,SAAS;gBAAG,OAAO;YAAI;YAClC,SAAS;gBAAE,SAAS;gBAAG,OAAO;YAAE;YAChC,MAAM;gBAAE,SAAS;gBAAG,OAAO;YAAI;YAC/B,SAAS,CAAC,IAAM,EAAE,eAAe;YACjC,WAAU;;8BAEV,sRAAC;oBAAI,WAAU;8BACb,cAAA,sRAAC;wBAAI,WAAU;;0CACb,sRAAC;gCAAI,WAAU;;kDACb,sRAAC;wCAAI,WAAU;kDACb,cAAA,sRAAC,+PAAO;4CAAC,WAAU;;;;;;;;;;;kDAErB,sRAAC;;0DACC,sRAAC;gDAAG,WAAU;0DAAsC;;;;;;0DAGpD,sRAAC;gDAAE,WAAU;0DAA2B;;;;;;;;;;;;;;;;;;0CAK5C,sRAAC;gCACC,SAAS;gCACT,WAAU;0CAEV,cAAA,sRAAC;oCACC,WAAU;oCACV,MAAK;oCACL,SAAQ;oCACR,QAAO;8CAEP,cAAA,sRAAC;wCACC,eAAc;wCACd,gBAAe;wCACf,aAAa;wCACb,GAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;8BAOZ,sRAAC;oBAAI,WAAU;;wBACZ,SAAS,GAAG,CAAC,CAAC,wBACb,sRAAC;;kDACC,sRAAC;wCAAG,WAAU;kDACX,QAAQ,QAAQ;;;;;;kDAEnB,sRAAC;wCAAI,WAAU;kDACZ,QAAQ,KAAK,CAAC,GAAG,CAAC,CAAC,qBAClB,sRAAC;gDAEC,WAAU;;kEAEV,sRAAC;wDAAI,WAAU;kEACb,cAAA,sRAAC,+OAAG;4DAAC,WAAU;;;;;;;;;;;kEAEjB,sRAAC;wDAAI,WAAU;;0EACb,sRAAC;gEAAE,WAAU;;oEAAiC;oEAC1C,KAAK,OAAO;oEAAC;;;;;;;0EAEjB,sRAAC;gEAAE,WAAU;0EACV,KAAK,WAAW;;;;;;;;;;;;;+CAXhB,KAAK,OAAO;;;;;;;;;;;+BAPf,QAAQ,QAAQ;;;;;sCA2B5B,sRAAC;4BAAI,WAAU;sCACb,cAAA,sRAAC;gCAAE,WAAU;;kDACX,sRAAC;kDAAO;;;;;;oCAAgB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAStC"}},
    {"offset": {"line": 1529, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Danny/Downloads/chef-gemini-clone/hooks/use-voice-control.ts"],"sourcesContent":["import { useEffect, useRef, useState, useCallback } from 'react';\r\n\r\ninterface VoiceControlOptions {\r\n  onNextStep?: () => void;\r\n  onPreviousStep?: () => void;\r\n  onGoToStep?: (stepNumber: number) => void;\r\n  onStartTimer?: () => void;\r\n  onPauseTimer?: () => void;\r\n  onResumeTimer?: () => void;\r\n  onStopTimer?: () => void;\r\n  onShowIngredients?: () => void;\r\n  onShowDirections?: () => void;\r\n  onReadStep?: () => void;\r\n  currentStepText?: string;\r\n  totalSteps?: number;\r\n}\r\n\r\ninterface VoiceControlState {\r\n  isListening: boolean;\r\n  isSupported: boolean;\r\n  lastCommand: string | null;\r\n  error: string | null;\r\n}\r\n\r\nexport function useVoiceControl(options: VoiceControlOptions) {\r\n  const [state, setState] = useState<VoiceControlState>({\r\n    isListening: false,\r\n    isSupported: false,\r\n    lastCommand: null,\r\n    error: null,\r\n  });\r\n\r\n  // Awake state (internal to avoid frequent re-renders if not needed, but we might want UI feedback)\r\n  const [isAwake, setIsAwake] = useState(false);\r\n  const wakeTimeoutRef = useRef<NodeJS.Timeout | null>(null);\r\n\r\n  // Refs to avoid closure staleness\r\n  const stateRef = useRef(state);\r\n  const isAwakeRef = useRef(isAwake);\r\n  const recognitionRef = useRef<any>(null);\r\n  const synthRef = useRef<SpeechSynthesis | null>(null);\r\n  const optionsRef = useRef(options);\r\n\r\n  // Keep refs updated\r\n  useEffect(() => {\r\n    stateRef.current = state;\r\n  }, [state]);\r\n\r\n  useEffect(() => {\r\n    isAwakeRef.current = isAwake;\r\n  }, [isAwake]);\r\n\r\n  useEffect(() => {\r\n    optionsRef.current = options;\r\n  }, [options]);\r\n\r\n  const speak = useCallback((text: string) => {\r\n    if (!synthRef.current) return;\r\n    synthRef.current.cancel();\r\n    const utterance = new SpeechSynthesisUtterance(text);\r\n    synthRef.current.speak(utterance);\r\n  }, []);\r\n\r\n  const activateAwakeMode = useCallback(() => {\r\n    setIsAwake(true);\r\n    // Play a subtle sound or give feedback?\r\n    // speak(\"Yes?\"); // Optional: might be annoying if too frequent\r\n    \r\n    if (wakeTimeoutRef.current) clearTimeout(wakeTimeoutRef.current);\r\n    wakeTimeoutRef.current = setTimeout(() => {\r\n      setIsAwake(false);\r\n      // speak(\"Sleeping\"); // Optional debug\r\n    }, 10000); // Stay awake for 10 seconds\r\n  }, []);\r\n\r\n  const readCurrentStep = useCallback(() => {\r\n    if (optionsRef.current.currentStepText) {\r\n      speak(optionsRef.current.currentStepText);\r\n    }\r\n  }, [speak]);\r\n\r\n  const processCommand = useCallback((transcript: string) => {\r\n    const lowerTranscript = transcript.toLowerCase().trim();\r\n    console.log('Heard:', lowerTranscript);\r\n\r\n    // Direct processing - No wake word required\r\n    setState(prev => ({ ...prev, lastCommand: lowerTranscript, error: null }));\r\n    const opts = optionsRef.current;\r\n\r\n    // Navigation\r\n    if (lowerTranscript.includes('next') || lowerTranscript.includes('forward')) {\r\n      opts.onNextStep?.();\r\n      speak('Moving to next step');\r\n    } \r\n    else if (lowerTranscript.includes('previous') || lowerTranscript.includes('back')) {\r\n      opts.onPreviousStep?.();\r\n      speak('Going back');\r\n    }\r\n    else if (lowerTranscript.includes('repeat') || lowerTranscript.includes('read')) {\r\n      readCurrentStep();\r\n    }\r\n    else if (lowerTranscript.match(/step (\\d+)/)) {\r\n      const match = lowerTranscript.match(/step (\\d+)/);\r\n      if (match) {\r\n        const stepNum = parseInt(match[1]);\r\n        if (stepNum > 0 && stepNum <= (opts.totalSteps || 0)) {\r\n          opts.onGoToStep?.(stepNum - 1);\r\n          speak(`Going to step ${stepNum}`);\r\n        }\r\n      }\r\n    }\r\n    // Timers\r\n    else if (lowerTranscript.includes('start timer')) {\r\n      opts.onStartTimer?.();\r\n      speak('Timer started');\r\n    }\r\n    else if (lowerTranscript.includes('pause timer') || lowerTranscript.includes('stop timer')) {\r\n      opts.onPauseTimer?.();\r\n      speak('Timer paused');\r\n    }\r\n    else if (lowerTranscript.includes('resume timer')) {\r\n      opts.onResumeTimer?.();\r\n      speak('Timer resumed');\r\n    }\r\n    // Tabs\r\n    else if (lowerTranscript.includes('ingredients')) {\r\n      opts.onShowIngredients?.();\r\n      speak('Showing ingredients');\r\n    }\r\n    else if (lowerTranscript.includes('directions') || lowerTranscript.includes('steps')) {\r\n      opts.onShowDirections?.();\r\n      speak('Showing directions');\r\n    }\r\n  }, [speak, readCurrentStep]);\r\n\r\n  // Wake Lock Ref\r\n  const wakeLockRef = useRef<any>(null);\r\n\r\n  const requestWakeLock = useCallback(async () => {\r\n    if ('wakeLock' in navigator) {\r\n      try {\r\n        wakeLockRef.current = await (navigator as any).wakeLock.request('screen');\r\n        console.log('Wake Lock active');\r\n      } catch (err) {\r\n        console.error('Wake Lock error:', err);\r\n      }\r\n    }\r\n  }, []);\r\n\r\n  const releaseWakeLock = useCallback(async () => {\r\n    if (wakeLockRef.current) {\r\n      try {\r\n        await wakeLockRef.current.release();\r\n        wakeLockRef.current = null;\r\n        console.log('Wake Lock released');\r\n      } catch (err) {\r\n        console.error('Wake Lock release error:', err);\r\n      }\r\n    }\r\n  }, []);\r\n\r\n  // Initialize Speech Recognition\r\n  useEffect(() => {\r\n    if (typeof window === 'undefined') return;\r\n\r\n    const SpeechRecognition = (window as any).SpeechRecognition || (window as any).webkitSpeechRecognition;\r\n    \r\n    if (SpeechRecognition) {\r\n      const recognition = new SpeechRecognition();\r\n      recognition.continuous = true; // Keep listening!\r\n      recognition.interimResults = false;\r\n      recognition.lang = 'en-US';\r\n\r\n      recognition.onstart = () => {\r\n        setState(prev => ({ ...prev, isListening: true, error: null }));\r\n        requestWakeLock(); // Keep screen on\r\n      };\r\n\r\n      recognition.onend = () => {\r\n        // Auto-restart loop\r\n        if (stateRef.current.isListening) {\r\n          console.log('Restarting listener...');\r\n          try {\r\n            recognition.start();\r\n          } catch (e) {\r\n            // Ignore errors on restart\r\n          }\r\n        } else {\r\n          setState(prev => ({ ...prev, isListening: false }));\r\n          releaseWakeLock(); // Let screen sleep\r\n        }\r\n      };\r\n\r\n      recognition.onerror = (event: any) => {\r\n        console.error('Speech recognition error:', event.error);\r\n        if (event.error === 'not-allowed') {\r\n          setState(prev => ({ ...prev, isListening: false, error: 'Microphone access denied' }));\r\n        }\r\n        // For continuous, we might get 'no-speech' errors, just ignore them\r\n      };\r\n\r\n      recognition.onresult = (event: any) => {\r\n        // Handle continuous results\r\n        for (let i = event.resultIndex; i < event.results.length; ++i) {\r\n          if (event.results[i].isFinal) {\r\n            const transcript = event.results[i][0].transcript;\r\n            processCommand(transcript);\r\n          }\r\n        }\r\n      };\r\n\r\n      recognitionRef.current = recognition;\r\n      setState(prev => ({ ...prev, isSupported: true }));\r\n    }\r\n\r\n    if (window.speechSynthesis) {\r\n      synthRef.current = window.speechSynthesis;\r\n    }\r\n\r\n    return () => {\r\n      if (recognitionRef.current) recognitionRef.current.abort();\r\n      if (synthRef.current) synthRef.current.cancel();\r\n      if (wakeTimeoutRef.current) clearTimeout(wakeTimeoutRef.current);\r\n      releaseWakeLock();\r\n    };\r\n  }, [processCommand, requestWakeLock, releaseWakeLock]);\r\n\r\n  const startListening = useCallback(() => {\r\n    if (!recognitionRef.current || state.isListening) return;\r\n    try {\r\n      recognitionRef.current.start();\r\n    } catch (error: any) {\r\n      let msg = 'Failed to start';\r\n      if (error.name === 'NotAllowedError') msg = 'Microphone denied';\r\n      setState(prev => ({ ...prev, error: msg }));\r\n    }\r\n  }, [state.isListening]);\r\n\r\n  const stopListening = useCallback(() => {\r\n    if (!recognitionRef.current) return;\r\n    setState(prev => ({ ...prev, isListening: false }));\r\n    recognitionRef.current.stop();\r\n    setIsAwake(false);\r\n    if (wakeTimeoutRef.current) clearTimeout(wakeTimeoutRef.current);\r\n  }, []);\r\n\r\n  return {\r\n    ...state,\r\n    isAwake, // Export this so UI can show \"Awake\" state\r\n    startListening,\r\n    stopListening,\r\n    speak,\r\n    readCurrentStep,\r\n  };\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1710, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Danny/Downloads/chef-gemini-clone/components/mobile-bottom-nav.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { cn } from \"@/lib/utils\";\r\nimport { ChefHat, List, Mic, MicOff } from \"lucide-react\";\r\n\r\ninterface MobileBottomNavProps {\r\n  activeTab: \"ingredients\" | \"directions\";\r\n  onTabChange: (tab: \"ingredients\" | \"directions\") => void;\r\n  currentStep: number;\r\n  totalSteps: number;\r\n  progressPercentage: number;\r\n  isScrollingDown: boolean;\r\n  isVoiceListening: boolean;\r\n  isVoiceSupported: boolean;\r\n  onVoiceToggle: () => void;\r\n}\r\n\r\nexport function MobileBottomNav({\r\n  activeTab,\r\n  onTabChange,\r\n  currentStep,\r\n  totalSteps,\r\n  progressPercentage,\r\n  isScrollingDown,\r\n  isVoiceListening,\r\n  isVoiceSupported,\r\n  onVoiceToggle,\r\n}: MobileBottomNavProps) {\r\n  return (\r\n    <>\r\n      {/* Floating/Docked Voice Button */}\r\n      {isVoiceSupported && (\r\n        <button\r\n          onClick={onVoiceToggle}\r\n          className={cn(\r\n            \"md:hidden fixed z-[60] transition-all duration-500 ease-in-out flex flex-col items-center justify-center rounded-full shadow-xl active:scale-95 text-white overflow-hidden w-16 h-16\",\r\n            isScrollingDown\r\n              ? \"bottom-8 right-6 bg-neutral-900 border-0\" // Floating: Lowered to bottom-8 (32px)\r\n              : \"bottom-5 left-1/2 -translate-x-1/2 border-4 border-gray-50 bg-neutral-900\", // Docked\r\n            isVoiceListening &&\r\n              \"bg-red-500 animate-pulse ring-4 ring-red-200 border-red-100\"\r\n          )}\r\n        >\r\n          {isVoiceListening ? (\r\n            <MicOff className=\"w-7 h-7\" />\r\n          ) : (\r\n            <Mic className=\"w-7 h-7\" />\r\n          )}\r\n        </button>\r\n      )}\r\n\r\n      {/* Navigation Bar Container */}\r\n      <div\r\n        className={cn(\r\n          \"md:hidden fixed left-0 right-0 z-50 transition-all duration-500 ease-in-out flex flex-col\",\r\n          isScrollingDown ? \"translate-y-[150%]\" : \"translate-y-0\",\r\n          \"bottom-0\"\r\n        )}\r\n      >\r\n        {/* Progress Bar - Only show on directions tab */}\r\n        {activeTab === \"directions\" && (\r\n          <div className=\"w-full bg-white/90 backdrop-blur-xl border-t border-neutral-200\">\r\n            <div className=\"h-1 w-full bg-neutral-100\">\r\n              <div\r\n                className=\"h-full bg-neutral-900 transition-all duration-300\"\r\n                style={{ width: `${progressPercentage}%` }}\r\n              />\r\n            </div>\r\n            <div className=\"px-4 py-1.5 flex justify-between text-[10px] text-neutral-500 font-medium uppercase tracking-wider\">\r\n              <span>\r\n                Step {currentStep + 1} of {totalSteps}\r\n              </span>\r\n              <span>{progressPercentage}%</span>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Navigation Bar */}\r\n        <div\r\n          className={cn(\r\n            \"bg-white/80 backdrop-blur-xl border-t border-neutral-200 pb-[env(safe-area-inset-bottom)]\",\r\n            activeTab !== \"directions\" &&\r\n              \"shadow-[0_-10px_40px_-15px_rgba(0,0,0,0.1)]\"\r\n          )}\r\n        >\r\n          <div className=\"flex items-center justify-between px-8 py-3\">\r\n            {/* Ingredients Tab */}\r\n            <button\r\n              onClick={() => onTabChange(\"ingredients\")}\r\n              className={cn(\r\n                \"flex flex-col items-center gap-1 px-4 py-1 rounded-xl transition-all min-w-[80px]\",\r\n                activeTab === \"ingredients\"\r\n                  ? \"text-neutral-900\"\r\n                  : \"text-neutral-400 hover:text-neutral-600\"\r\n              )}\r\n            >\r\n              <List\r\n                className={cn(\r\n                  \"w-6 h-6\",\r\n                  activeTab === \"ingredients\" && \"stroke-[2.5px]\"\r\n                )}\r\n              />\r\n              <span className=\"text-[10px] font-bold\">Ingredients</span>\r\n            </button>\r\n\r\n            {/* Spacer for docked mic button */}\r\n            <div className=\"w-16\" />\r\n\r\n            {/* Directions Tab */}\r\n            <button\r\n              onClick={() => onTabChange(\"directions\")}\r\n              className={cn(\r\n                \"flex flex-col items-center gap-1 px-4 py-1 rounded-xl transition-all min-w-[80px]\",\r\n                activeTab === \"directions\"\r\n                  ? \"text-neutral-900\"\r\n                  : \"text-neutral-400 hover:text-neutral-600\"\r\n              )}\r\n            >\r\n              <ChefHat\r\n                className={cn(\r\n                  \"w-6 h-6\",\r\n                  activeTab === \"directions\" && \"stroke-[2.5px]\"\r\n                )}\r\n              />\r\n              <span className=\"text-[10px] font-bold\">Directions</span>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAAA;AAAA;AAHA;;;;AAiBO,SAAS,gBAAgB,EAC9B,SAAS,EACT,WAAW,EACX,WAAW,EACX,UAAU,EACV,kBAAkB,EAClB,eAAe,EACf,gBAAgB,EAChB,gBAAgB,EAChB,aAAa,EACQ;IACrB,qBACE;;YAEG,kCACC,sRAAC;gBACC,SAAS;gBACT,WAAW,IAAA,0JAAE,EACX,wLACA,kBACI,2CAA2C,uCAAuC;mBAClF,6EACJ,oBACE;0BAGH,iCACC,sRAAC,4PAAM;oBAAC,WAAU;;;;;yCAElB,sRAAC,+OAAG;oBAAC,WAAU;;;;;;;;;;;0BAMrB,sRAAC;gBACC,WAAW,IAAA,0JAAE,EACX,6FACA,kBAAkB,uBAAuB,iBACzC;;oBAID,cAAc,8BACb,sRAAC;wBAAI,WAAU;;0CACb,sRAAC;gCAAI,WAAU;0CACb,cAAA,sRAAC;oCACC,WAAU;oCACV,OAAO;wCAAE,OAAO,GAAG,mBAAmB,CAAC,CAAC;oCAAC;;;;;;;;;;;0CAG7C,sRAAC;gCAAI,WAAU;;kDACb,sRAAC;;4CAAK;4CACE,cAAc;4CAAE;4CAAK;;;;;;;kDAE7B,sRAAC;;4CAAM;4CAAmB;;;;;;;;;;;;;;;;;;;kCAMhC,sRAAC;wBACC,WAAW,IAAA,0JAAE,EACX,6FACA,cAAc,gBACZ;kCAGJ,cAAA,sRAAC;4BAAI,WAAU;;8CAEb,sRAAC;oCACC,SAAS,IAAM,YAAY;oCAC3B,WAAW,IAAA,0JAAE,EACX,qFACA,cAAc,gBACV,qBACA;;sDAGN,sRAAC,kPAAI;4CACH,WAAW,IAAA,0JAAE,EACX,WACA,cAAc,iBAAiB;;;;;;sDAGnC,sRAAC;4CAAK,WAAU;sDAAwB;;;;;;;;;;;;8CAI1C,sRAAC;oCAAI,WAAU;;;;;;8CAGf,sRAAC;oCACC,SAAS,IAAM,YAAY;oCAC3B,WAAW,IAAA,0JAAE,EACX,qFACA,cAAc,eACV,qBACA;;sDAGN,sRAAC,+PAAO;4CACN,WAAW,IAAA,0JAAE,EACX,WACA,cAAc,gBAAgB;;;;;;sDAGlC,sRAAC;4CAAK,WAAU;sDAAwB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAOtD"}},
    {"offset": {"line": 1895, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Danny/Downloads/chef-gemini-clone/components/cooking-interface.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useRef, useEffect } from \"react\";\nimport {\n  Copy,\n  MapPin,\n  ArrowLeft,\n  X,\n  HelpCircle,\n  RefreshCw,\n} from \"lucide-react\";\nimport { cn } from \"@/lib/utils\";\nimport { ScrollAwareHeader } from \"@/components/scroll-aware-header\";\nimport {\n  VoiceControlButton,\n  VoiceHelpModal,\n} from \"@/components/voice-control-button\";\nimport { useVoiceControl } from \"@/hooks/use-voice-control\";\nimport { MobileBottomNav } from \"@/components/mobile-bottom-nav\";\nimport { useAction } from \"convex/react\";\nimport { api } from \"@/convex/_generated/api\";\nimport { SubstitutionModal } from \"@/components/substitution-modal\";\n\nfunction AutoFitText({\n  children,\n  className,\n  isActive,\n}: {\n  children: React.ReactNode;\n  className?: string;\n  isActive: boolean;\n}) {\n  const textRef = useRef<HTMLParagraphElement>(null);\n\n  useEffect(() => {\n    if (!isActive || !textRef.current) return;\n\n    const el = textRef.current;\n\n    // Reset to initial state (remove inline style) to check if default size fits\n    el.style.fontSize = \"\";\n\n    const checkOverflow = () => {\n      // Check if content height is greater than visible height\n      // 1px buffer for sub-pixel rendering differences\n      return el.scrollHeight > el.clientHeight + 1;\n    };\n\n    // If it fits naturally, do nothing!\n    if (!checkOverflow()) return;\n\n    // Safety check: If content is WAY too long (e.g. > 1.3x container),\n    // don't even try to shrink it. Just let it scroll.\n    // This prevents shrinking text for massive paragraphs where it won't help anyway.\n    if (el.scrollHeight > el.clientHeight * 1.3) return;\n\n    // Start from the computed style\n    let size = parseFloat(window.getComputedStyle(el).fontSize);\n    const minSize = 24; // High floor - keep text readable!\n\n    // Reduce incrementally until it fits or hits minimum\n    while (checkOverflow() && size > minSize) {\n      size -= 0.5;\n      el.style.fontSize = `${size}px`;\n      el.style.lineHeight = \"1.4\"; // Ensure tight but readable line height\n    }\n  }, [isActive, children]);\n\n  return (\n    <p\n      ref={textRef}\n      className={cn(\n        className,\n        isActive && \"flex-1 overflow-y-auto scrollbar-hide\"\n      )}\n    >\n      {children}\n    </p>\n  );\n}\n\ninterface CookingInterfaceProps {\n  recipe: {\n    recipe_name: string;\n    ingredients: string[];\n    instructions: string[];\n  };\n\n  onBack: () => void;\n}\n\nexport function CookingInterface({ recipe, onBack }: CookingInterfaceProps) {\n  const [activeTab, setActiveTab] = useState<\"ingredients\" | \"directions\">(\n    \"ingredients\"\n  );\n  const [checkedIngredients, setCheckedIngredients] = useState<\n    Record<number, boolean>\n  >({});\n  const [currentStepIndex, setCurrentStepIndex] = useState(0);\n  // Store timers as a map: \"stepIndex-partIndex\" -> { remaining: number, isRunning: boolean, minTime: number, maxTime: number }\n  const [timers, setTimers] = useState<\n    Record<\n      string,\n      {\n        remaining: number;\n        isRunning: boolean;\n        minTime: number;\n        maxTime: number;\n      }\n    >\n  >({});\n  const [isScrollingDown, setIsScrollingDown] = useState(false);\n  const [lastScrollY, setLastScrollY] = useState(0);\n  const [showVoiceHelp, setShowVoiceHelp] = useState(false);\n\n  // Substitution State\n  const [subModalOpen, setSubModalOpen] = useState(false);\n  const [selectedIngredient, setSelectedIngredient] = useState(\"\");\n  const [substitutions, setSubstitutions] = useState<any[] | null>(null);\n  const [isSubLoading, setIsSubLoading] = useState(false);\n\n  const getSubstitutions = useAction(api.actions.getIngredientSubstitutions);\n\n  const handleSubstitute = async (ingredient: string) => {\n    // Extract just the name part for better AI results\n    const name = ingredient.split(\",\")[0].trim();\n\n    setSelectedIngredient(name);\n    setSubstitutions(null);\n    setSubModalOpen(true);\n    setIsSubLoading(true);\n\n    try {\n      const result = await getSubstitutions({\n        ingredient: name,\n        recipeName: recipe.recipe_name,\n      });\n      setSubstitutions(result.substitutions);\n    } catch (error) {\n      console.error(\"Failed to get substitutions\", error);\n    } finally {\n      setIsSubLoading(false);\n    }\n  };\n\n  const directionsContainerRef = useRef<HTMLDivElement>(null);\n  const stepRefsRef = useRef<(HTMLDivElement | null)[]>([]);\n\n  // For TikTok-style snap scroll\n  const isSnappingRef = useRef(false);\n  const wheelTimeoutRef = useRef<NodeJS.Timeout | null>(null);\n\n  // Touch handling refs\n  const touchStartYRef = useRef<number | null>(null);\n  const touchLastYRef = useRef<number | null>(null);\n  const touchStartTimeRef = useRef<number | null>(null);\n  const touchTimeoutRef = useRef<NodeJS.Timeout | null>(null);\n\n  // Keep a ref of currentStepIndex for handlers (avoid stale closures)\n  const currentStepIndexRef = useRef(currentStepIndex);\n  useEffect(() => {\n    currentStepIndexRef.current = currentStepIndex;\n  }, [currentStepIndex]);\n\n  // Helper function to find and control timer in current step\n  const findCurrentStepTimer = (): string | null => {\n    if (activeTab !== \"directions\") return null;\n\n    const instruction = recipe.instructions[currentStepIndex];\n    const timeMatch = instruction.match(\n      /(\\d+(?:\\s*[-â€“to]+\\s*\\d+)?\\s*(?:minutes?|mins?|hours?|hrs?))/i\n    );\n\n    if (timeMatch) {\n      // Find the index of this time text in the split instruction\n      const parts = instruction.split(\n        /(\\d+(?:\\s*[-â€“to]+\\s*\\d+)?\\s*(?:minutes?|mins?|hours?|hrs?))/gi\n      );\n      const timePartIndex = parts.findIndex((part) =>\n        /\\d+(?:\\s*[-â€“to]+\\s*\\d+)?\\s*(?:minutes?|mins?|hours?|hrs?)/i.test(part)\n      );\n\n      if (timePartIndex !== -1) {\n        return `${currentStepIndex}-${timePartIndex}`;\n      }\n    }\n\n    return null;\n  };\n\n  const startCurrentStepTimer = () => {\n    const timerKey = findCurrentStepTimer();\n    if (!timerKey) {\n      console.log(\"No timer found in current step\");\n      return;\n    }\n\n    const instruction = recipe.instructions[currentStepIndex];\n    const t = extractTimer(instruction);\n\n    if (t) {\n      setTimers((prev) => {\n        const current = prev[timerKey];\n        if (current) {\n          // Timer exists, start it if paused\n          if (!current.isRunning) {\n            return {\n              ...prev,\n              [timerKey]: {\n                ...current,\n                isRunning: true,\n              },\n            };\n          }\n          return prev;\n        } else {\n          // Initialize and start new timer\n          return {\n            ...prev,\n            [timerKey]: {\n              remaining: t.min,\n              isRunning: true,\n              minTime: t.min,\n              maxTime: t.max,\n            },\n          };\n        }\n      });\n      console.log(\"Timer started for step\", currentStepIndex + 1);\n    }\n  };\n\n  const pauseCurrentStepTimer = () => {\n    const timerKey = findCurrentStepTimer();\n    if (!timerKey) {\n      console.log(\"No timer found in current step\");\n      return;\n    }\n\n    setTimers((prev) => {\n      const current = prev[timerKey];\n      if (current && current.isRunning) {\n        return {\n          ...prev,\n          [timerKey]: {\n            ...current,\n            isRunning: false,\n          },\n        };\n      }\n      return prev;\n    });\n    console.log(\"Timer paused for step\", currentStepIndex + 1);\n  };\n\n  const resumeCurrentStepTimer = () => {\n    const timerKey = findCurrentStepTimer();\n    if (!timerKey) {\n      console.log(\"No timer found in current step\");\n      return;\n    }\n\n    setTimers((prev) => {\n      const current = prev[timerKey];\n      if (current && !current.isRunning) {\n        return {\n          ...prev,\n          [timerKey]: {\n            ...current,\n            isRunning: true,\n          },\n        };\n      }\n      return prev;\n    });\n    console.log(\"Timer resumed for step\", currentStepIndex + 1);\n  };\n\n  // Voice Control Integration\n  const voiceControl = useVoiceControl({\n    onNextStep: () => {\n      if (\n        activeTab === \"directions\" &&\n        currentStepIndex < recipe.instructions.length - 1\n      ) {\n        const nextIndex = currentStepIndex + 1;\n        setCurrentStepIndex(nextIndex);\n        stepRefsRef.current[nextIndex]?.scrollIntoView({\n          behavior: \"smooth\",\n          block: \"center\",\n        });\n      }\n    },\n    onPreviousStep: () => {\n      if (activeTab === \"directions\" && currentStepIndex > 0) {\n        const prevIndex = currentStepIndex - 1;\n        setCurrentStepIndex(prevIndex);\n        stepRefsRef.current[prevIndex]?.scrollIntoView({\n          behavior: \"smooth\",\n          block: \"center\",\n        });\n      }\n    },\n    onGoToStep: (stepIndex: number) => {\n      if (\n        activeTab === \"directions\" &&\n        stepIndex >= 0 &&\n        stepIndex < recipe.instructions.length\n      ) {\n        setCurrentStepIndex(stepIndex);\n        stepRefsRef.current[stepIndex]?.scrollIntoView({\n          behavior: \"smooth\",\n          block: \"center\",\n        });\n      }\n    },\n    onStartTimer: startCurrentStepTimer,\n    onPauseTimer: pauseCurrentStepTimer,\n    onResumeTimer: resumeCurrentStepTimer,\n    onShowIngredients: () => setActiveTab(\"ingredients\"),\n    onShowDirections: () => setActiveTab(\"directions\"),\n    onReadStep: undefined, // The hook handles reading internally\n    currentStepText:\n      activeTab === \"directions\"\n        ? recipe.instructions[currentStepIndex]\n        : undefined,\n    totalSteps: recipe.instructions.length,\n  });\n\n  const extractTimer = (text: string): { min: number; max: number } | null => {\n    // Match time ranges like \"14-20 minutes\" or \"1-2 hours\"\n    const rangeMatch = text.match(\n      /(\\d+)\\s*[-â€“to]+\\s*(\\d+)\\s*(minutes?|mins?|hours?|hrs?)/i\n    );\n    if (rangeMatch) {\n      const minVal = parseInt(rangeMatch[1]);\n      const maxVal = parseInt(rangeMatch[2]);\n      const unit = rangeMatch[3].toLowerCase();\n      const multiplier = unit.includes(\"hour\") ? 3600 : 60;\n      return { min: minVal * multiplier, max: maxVal * multiplier };\n    }\n\n    // Match single time like \"15 minutes\" - treat as both min and max\n    const singleMatch = text.match(/(\\d+)\\s*(minutes?|mins?|hours?|hrs?)/i);\n    if (!singleMatch) return null;\n    const val = parseInt(singleMatch[1]);\n    const unit = singleMatch[2].toLowerCase();\n    const seconds = unit.includes(\"hour\") ? val * 3600 : val * 60;\n    return { min: seconds, max: seconds };\n  };\n\n  const formatTime = (seconds: number): string => {\n    const m = Math.floor(seconds / 60);\n    const s = seconds % 60;\n    return `${m.toString().padStart(2, \"0\")}:${s.toString().padStart(2, \"0\")}`;\n  };\n\n  // Timer Logic - Decrement all running timers\n  useEffect(() => {\n    const interval = setInterval(() => {\n      setTimers((prev) => {\n        const next = { ...prev };\n        let hasChanges = false;\n\n        Object.keys(next).forEach((key) => {\n          if (next[key].isRunning && next[key].remaining > 0) {\n            next[key] = { ...next[key], remaining: next[key].remaining - 1 };\n            hasChanges = true;\n\n            // Don't auto-pause - let it continue to maxTime\n            // User can manually pause/stop\n          }\n        });\n\n        return hasChanges ? next : prev;\n      });\n    }, 1000);\n\n    return () => clearInterval(interval);\n  }, []);\n\n  const getStepIngredients = (step: string): string[] =>\n    recipe.ingredients.filter((ing) =>\n      step.toLowerCase().includes(ing.split(\",\")[0].toLowerCase())\n    );\n\n  // Detect active step (keep this untouched)\n  useEffect(() => {\n    if (activeTab !== \"directions\") return;\n\n    const observer = new IntersectionObserver(\n      (entries) => {\n        let topIndex = currentStepIndexRef.current;\n        let maxRatio = 0;\n\n        for (const entry of entries) {\n          if (entry.isIntersecting && entry.intersectionRatio > maxRatio) {\n            maxRatio = entry.intersectionRatio;\n            const idx = Number(entry.target.getAttribute(\"data-step-index\"));\n            if (!isNaN(idx)) topIndex = idx;\n          }\n        }\n\n        if (maxRatio > 0.4) setCurrentStepIndex(topIndex);\n      },\n      { threshold: 0.5 }\n    );\n\n    stepRefsRef.current.forEach((r) => r && observer.observe(r));\n    return () => observer.disconnect();\n  }, [activeTab]);\n\n  // ðŸ‘‰ **TikTok Vertical Feed Scroll (wheel + touch)**\n  useEffect(() => {\n    if (activeTab !== \"directions\") return;\n\n    const container = directionsContainerRef.current;\n    if (!container) return;\n\n    /* ---------- WHEEL (desktop) ---------- */\n    const onWheel = (e: WheelEvent) => {\n      // If already snapping, prevent default and ignore\n      if (isSnappingRef.current) {\n        e.preventDefault();\n        return;\n      }\n\n      // Prevent the browser's default smooth continuous scroll\n      e.preventDefault();\n\n      const direction = e.deltaY > 0 ? \"down\" : \"up\";\n\n      if (wheelTimeoutRef.current) clearTimeout(wheelTimeoutRef.current);\n\n      // Buffer multiple wheel events into one snapping action\n      wheelTimeoutRef.current = setTimeout(() => {\n        isSnappingRef.current = true;\n\n        const idx = currentStepIndexRef.current;\n        if (direction === \"down\" && idx < recipe.instructions.length - 1) {\n          stepRefsRef.current[idx + 1]?.scrollIntoView({\n            behavior: \"smooth\",\n            block: \"center\",\n          });\n        } else if (direction === \"up\" && idx > 0) {\n          stepRefsRef.current[idx - 1]?.scrollIntoView({\n            behavior: \"smooth\",\n            block: \"center\",\n          });\n        }\n\n        // keep snapping locked briefly while animation runs\n        setTimeout(() => {\n          isSnappingRef.current = false;\n        }, 450);\n      }, 50);\n    };\n\n    container.addEventListener(\"wheel\", onWheel, { passive: false });\n\n    /* ---------- TOUCH (mobile / touch devices) ---------- */\n    const SWIPE_THRESHOLD = 40; // px â€” Option A: very sensitive (TikTok-like)\n    const FLING_VELOCITY_THRESHOLD = 0.3; // px per ms, if user flicks quickly\n\n    const onTouchStart = (ev: TouchEvent) => {\n      if (isSnappingRef.current) {\n        // If snapping in progress, do nothing\n        ev.preventDefault();\n        return;\n      }\n      const t = ev.touches[0];\n      touchStartYRef.current = t.clientY;\n      touchLastYRef.current = t.clientY;\n      touchStartTimeRef.current = Date.now();\n\n      // clear any pending timeouts\n      if (touchTimeoutRef.current) {\n        clearTimeout(touchTimeoutRef.current);\n        touchTimeoutRef.current = null;\n      }\n    };\n\n    const onTouchMove = (ev: TouchEvent) => {\n      // Prevent native scroll while we're detecting a vertical swipe for our feed\n      // Only prevent if we have a single touch (no pinch)\n      if (ev.touches.length === 1) {\n        ev.preventDefault();\n        const t = ev.touches[0];\n        touchLastYRef.current = t.clientY;\n      }\n    };\n\n    const attemptSnap = (direction: \"up\" | \"down\") => {\n      if (isSnappingRef.current) return;\n      isSnappingRef.current = true;\n\n      const idx = currentStepIndexRef.current;\n      if (direction === \"down\" && idx < recipe.instructions.length - 1) {\n        stepRefsRef.current[idx + 1]?.scrollIntoView({\n          behavior: \"smooth\",\n          block: \"center\",\n        });\n      } else if (direction === \"up\" && idx > 0) {\n        stepRefsRef.current[idx - 1]?.scrollIntoView({\n          behavior: \"smooth\",\n          block: \"center\",\n        });\n      }\n\n      // unlock after animation time\n      setTimeout(() => {\n        isSnappingRef.current = false;\n      }, 450);\n    };\n\n    const onTouchEnd = (ev: TouchEvent) => {\n      const startY = touchStartYRef.current;\n      const lastY = touchLastYRef.current;\n      const startTime = touchStartTimeRef.current;\n      touchStartYRef.current = null;\n      touchLastYRef.current = null;\n      touchStartTimeRef.current = null;\n\n      if (startY == null || lastY == null || startTime == null) return;\n\n      const deltaY = startY - lastY;\n      const elapsed = Date.now() - startTime;\n      const velocity = Math.abs(deltaY) / Math.max(1, elapsed); // px per ms\n\n      // Quick fling with small move => should still count\n      if (\n        Math.abs(deltaY) >= SWIPE_THRESHOLD ||\n        velocity >= FLING_VELOCITY_THRESHOLD\n      ) {\n        if (deltaY > 0) {\n          // swipe up -> go to next (down direction)\n          attemptSnap(\"down\");\n        } else {\n          // swipe down -> go to previous (up direction)\n          attemptSnap(\"up\");\n        }\n      } else {\n        // Not enough movement â€” snap back to current card to avoid partial scroll\n        const idx = currentStepIndexRef.current;\n        stepRefsRef.current[idx]?.scrollIntoView({\n          behavior: \"smooth\",\n          block: \"center\",\n        });\n      }\n\n      // tiny safety unlock if something went wrong\n      if (touchTimeoutRef.current) clearTimeout(touchTimeoutRef.current);\n      touchTimeoutRef.current = setTimeout(() => {\n        isSnappingRef.current = false;\n        touchTimeoutRef.current = null;\n      }, 800);\n    };\n\n    container.addEventListener(\"touchstart\", onTouchStart, { passive: false });\n    container.addEventListener(\"touchmove\", onTouchMove, { passive: false });\n    container.addEventListener(\"touchend\", onTouchEnd, { passive: false });\n    container.addEventListener(\"touchcancel\", onTouchEnd, { passive: false });\n\n    // Clean up\n    return () => {\n      container.removeEventListener(\"wheel\", onWheel);\n      container.removeEventListener(\"touchstart\", onTouchStart);\n      container.removeEventListener(\"touchmove\", onTouchMove);\n      container.removeEventListener(\"touchend\", onTouchEnd);\n      container.removeEventListener(\"touchcancel\", onTouchEnd);\n      if (wheelTimeoutRef.current) {\n        clearTimeout(wheelTimeoutRef.current);\n        wheelTimeoutRef.current = null;\n      }\n      if (touchTimeoutRef.current) {\n        clearTimeout(touchTimeoutRef.current);\n        touchTimeoutRef.current = null;\n      }\n    };\n  }, [activeTab, recipe.instructions.length]);\n\n  useEffect(() => {\n    const handleScroll = () => {\n      const currentScrollY = window.scrollY;\n      if (currentScrollY > lastScrollY && currentScrollY > 50) {\n        setIsScrollingDown(true);\n      } else {\n        setIsScrollingDown(false);\n      }\n      setLastScrollY(currentScrollY);\n    };\n    window.addEventListener(\"scroll\", handleScroll, { passive: true });\n    return () => window.removeEventListener(\"scroll\", handleScroll);\n  }, [lastScrollY]);\n\n  const toggleAllIngredients = () =>\n    setCheckedIngredients((prev) => {\n      const allChecked = recipe.ingredients.every((_, i) => prev[i]);\n      if (allChecked) return {};\n      return Object.fromEntries(recipe.ingredients.map((_, i) => [i, true]));\n    });\n\n  const copyIngredients = () =>\n    navigator.clipboard.writeText(recipe.ingredients.join(\"\\n\"));\n\n  return (\n    <div className=\"min-h-screen flex flex-col bg-gray-100\">\n      <style>{`\n        @keyframes shine {\n          0% { background-position: 200% center; }\n          100% { background-position: -200% center; }\n        }\n        .timer-shine {\n          background: linear-gradient(to right, #15803d 20%, #fbbf24 40%, #fbbf24 60%, #15803d 80%);\n          background-size: 200% auto;\n          background-clip: text;\n          -webkit-background-clip: text;\n          -webkit-text-fill-color: transparent;\n          animation: shine 2s linear 1 forwards;\n        }\n      `}</style>\n      <ScrollAwareHeader\n        maxWidth=\"max-w-4xl\"\n        rightContent={\n          <div className=\"flex items-center gap-2\">\n            <button\n              onClick={() => setShowVoiceHelp(true)}\n              className=\"p-2 text-neutral-500 hover:text-neutral-900 hover:bg-neutral-100 rounded-full transition-colors\"\n              title=\"Voice Commands Help\"\n            >\n              <HelpCircle className=\"w-6 h-6\" />\n            </button>\n            <button\n              onClick={onBack}\n              className=\"p-2 -mr-2 text-neutral-500 hover:text-neutral-900 hover:bg-neutral-100 rounded-full transition-colors\"\n            >\n              <X className=\"w-6 h-6\" />\n            </button>\n          </div>\n        }\n      />\n\n      {/* Tabs */}\n      <div\n        className={cn(\n          \"sticky z-30 hidden md:flex justify-center px-4 py-4 pointer-events-none transition-all duration-500 ease-in-out\",\n          isScrollingDown ? \"top-2\" : \"top-[80px]\"\n        )}\n      >\n        <div className=\"pointer-events-auto bg-white/70 backdrop-blur-xl shadow-lg rounded-full p-1.5 flex items-center gap-1 border border-white/20 ring-1 ring-black/5\">\n          <button\n            onClick={() => setActiveTab(\"ingredients\")}\n            className={cn(\n              \"px-6 py-2.5 rounded-full text-sm font-semibold transition-all duration-300\",\n              activeTab === \"ingredients\"\n                ? \"bg-neutral-900 text-white shadow-md transform scale-105\"\n                : \"text-neutral-500 hover:text-neutral-900 hover:bg-neutral-100\"\n            )}\n          >\n            Ingredients\n          </button>\n\n          <button\n            onClick={() => setActiveTab(\"directions\")}\n            className={cn(\n              \"px-6 py-2.5 rounded-full text-sm font-semibold transition-all duration-300\",\n              activeTab === \"directions\"\n                ? \"bg-neutral-900 text-white shadow-md transform scale-105\"\n                : \"text-neutral-500 hover:text-neutral-900 hover:bg-neutral-100\"\n            )}\n          >\n            Directions\n          </button>\n        </div>\n      </div>\n\n      {/* Title */}\n      <div className=\"pt-24 px-4 sm:px-6 pb-4 max-w-4xl mx-auto w-full\">\n        <h1 className=\"text-3xl sm:text-4xl font-bold text-neutral-900\">\n          {recipe.recipe_name}\n        </h1>\n      </div>\n\n      {/* CONTENT */}\n      <div className=\"flex-1 overflow-hidden\">\n        {activeTab === \"ingredients\" ? (\n          // -------------------------\n          // INGREDIENTS TAB (unchanged)\n          // -------------------------\n          <div className=\"px-4 sm:px-6 py-8 max-w-4xl mx-auto\">\n            <div className=\"mb-6\">\n              <div className=\"flex items-end justify-between mb-2\">\n                <div>\n                  <h2 className=\"text-2xl font-bold text-neutral-900\">\n                    Recommended Ingredients\n                  </h2>\n                  <p className=\"text-neutral-500 text-sm mt-1\">\n                    Select the ingredients you have missing to view nearby store\n                    options or add to your list.\n                  </p>\n                </div>\n                <button\n                  onClick={toggleAllIngredients}\n                  className=\"text-sm font-semibold text-neutral-900 underline decoration-2 underline-offset-4 hover:text-neutral-600 whitespace-nowrap ml-4\"\n                >\n                  Select All\n                </button>\n              </div>\n            </div>\n\n            <div className=\"bg-white rounded-3xl p-2 border border-neutral-100 mb-24\">\n              <div className=\"space-y-1\">\n                {recipe.ingredients.map((ingredient, idx) => (\n                  <div\n                    key={idx}\n                    className=\"group flex items-center gap-4 p-4 rounded-2xl hover:bg-neutral-50 transition-colors cursor-pointer\"\n                    onClick={() =>\n                      setCheckedIngredients((prev) => ({\n                        ...prev,\n                        [idx]: !prev[idx],\n                      }))\n                    }\n                  >\n                    <div className=\"flex-1\">\n                      {(() => {\n                        // Split ingredient into name and measurement\n                        const parts = ingredient.split(\",\");\n                        const name = parts[0]?.trim() || ingredient;\n                        const measurement = parts.slice(1).join(\",\").trim();\n\n                        return (\n                          <div>\n                            <p\n                              className={cn(\n                                \"text-lg font-semibold transition-all\",\n                                checkedIngredients[idx]\n                                  ? \"text-neutral-400 line-through\"\n                                  : \"text-neutral-900\"\n                              )}\n                            >\n                              {name}\n                            </p>\n                            {measurement && (\n                              <p\n                                className={cn(\n                                  \"text-sm mt-1 transition-all\",\n                                  checkedIngredients[idx]\n                                    ? \"text-neutral-300 line-through\"\n                                    : \"text-neutral-500\"\n                                )}\n                              >\n                                {measurement}\n                              </p>\n                            )}\n                          </div>\n                        );\n                      })()}\n                    </div>\n\n                    <button\n                      onClick={(e) => {\n                        e.stopPropagation();\n                        handleSubstitute(ingredient);\n                      }}\n                      className=\"p-2 text-neutral-300 hover:text-neutral-900 hover:bg-neutral-100 rounded-full transition-colors\"\n                      title=\"Find substitutes\"\n                    >\n                      <RefreshCw className=\"w-4 h-4\" />\n                    </button>\n\n                    <div\n                      className={cn(\n                        \"w-8 h-8 rounded-lg border-2 flex items-center justify-center transition-all\",\n                        checkedIngredients[idx]\n                          ? \"bg-neutral-900 border-neutral-900\"\n                          : \"border-neutral-200 group-hover:border-neutral-300\"\n                      )}\n                    >\n                      {checkedIngredients[idx] && (\n                        <svg\n                          className=\"w-5 h-5 text-white\"\n                          fill=\"none\"\n                          viewBox=\"0 0 24 24\"\n                          stroke=\"currentColor\"\n                        >\n                          <path\n                            strokeLinecap=\"round\"\n                            strokeLinejoin=\"round\"\n                            strokeWidth={2}\n                            d=\"M5 13l4 4L19 7\"\n                          />\n                        </svg>\n                      )}\n                    </div>\n                  </div>\n                ))}\n              </div>\n            </div>\n\n            {/* Desktop FABs */}\n            <div className=\"hidden md:flex fixed bottom-8 left-1/2 -translate-x-1/2 z-40 gap-4 w-full max-w-md px-6\">\n              <button\n                onClick={copyIngredients}\n                className=\"flex-1 bg-white hover:bg-neutral-50 text-neutral-900 border border-neutral-200 font-bold py-4 px-6 rounded-full shadow-xl flex items-center justify-center gap-3 transition-all transform active:scale-95\"\n              >\n                <Copy className=\"w-5 h-5\" />\n                Copy List\n              </button>\n              <button className=\"flex-1 bg-neutral-900 hover:bg-neutral-800 text-white font-bold py-4 px-6 rounded-full shadow-xl flex items-center justify-center gap-3 transition-all transform active:scale-95\">\n                <MapPin className=\"w-5 h-5\" />\n                Find Stores\n              </button>\n            </div>\n\n            {/* Mobile FABs (Icons Only) */}\n            <div className=\"md:hidden fixed bottom-24 left-6 z-40 flex flex-col gap-3\">\n              <button className=\"w-12 h-12 bg-neutral-900 text-white rounded-full shadow-xl flex items-center justify-center active:scale-95 transition-transform\">\n                <MapPin className=\"w-5 h-5\" />\n              </button>\n              <button\n                onClick={copyIngredients}\n                className=\"w-12 h-12 bg-white text-neutral-900 border border-neutral-200 rounded-full shadow-xl flex items-center justify-center active:scale-95 transition-transform\"\n              >\n                <Copy className=\"w-5 h-5\" />\n              </button>\n            </div>\n          </div>\n        ) : (\n          // -------------------------\n          // DIRECTIONS TAB\n          // -------------------------\n          <div\n            ref={directionsContainerRef}\n            className=\"h-full overflow-y-scroll px-4 sm:px-6 py-8 max-w-4xl mx-auto snap-y snap-mandatory scroll-smooth [&::-webkit-scrollbar]:hidden [-ms-overflow-style:'none'] [scrollbar-width:'none']\"\n          >\n            <div className=\"pb-32\">\n              {recipe.instructions.map((instruction, idx) => {\n                const isActive = idx === currentStepIndex;\n                const stepIngredients = getStepIngredients(instruction);\n\n                return (\n                  <div\n                    key={idx}\n                    ref={(el) => (stepRefsRef.current[idx] = el)}\n                    data-step-index={idx}\n                    className={cn(\n                      \"transition-all duration-500 rounded-3xl overflow-hidden snap-center snap-always mb-6 last:mb-0\",\n                      \"h-[calc(100vh-280px)] md:h-auto md:min-h-[calc(100vh-280px)]\",\n                      isActive\n                        ? \"bg-white scale-100 opacity-100\"\n                        : \"bg-neutral-200 scale-95 opacity-50 cursor-pointer hover:opacity-70\"\n                    )}\n                    onClick={() =>\n                      !isActive &&\n                      stepRefsRef.current[idx]?.scrollIntoView({\n                        behavior: \"smooth\",\n                        block: \"center\",\n                      })\n                    }\n                  >\n                    <div className=\"p-8 h-full flex flex-col\">\n                      <div className=\"flex items-center gap-2 mb-4\">\n                        <div\n                          className={cn(\n                            \"px-3 py-1 rounded-lg flex items-center gap-2\",\n                            isActive ? \"bg-neutral-100\" : \"bg-neutral-300\"\n                          )}\n                        >\n                          <span className=\"font-bold text-neutral-900\">\n                            Step {idx + 1}\n                          </span>\n                          <span className=\"text-neutral-500\">â†—</span>\n                        </div>\n                      </div>\n\n                      {isActive && stepIngredients.length > 0 && (\n                        <div className=\"flex flex-wrap gap-2 mb-6\">\n                          {stepIngredients.map((ing, i) => (\n                            <span\n                              key={i}\n                              className=\"px-3 py-1 bg-neutral-100 rounded-lg text-sm text-neutral-600 font-medium\"\n                            >\n                              {ing.split(\",\")[0]}\n                            </span>\n                          ))}\n                        </div>\n                      )}\n\n                      {(() => {\n                        // Extract subheader if present (pattern: **Title:** at start)\n                        const subheaderMatch =\n                          instruction.match(/^\\*\\*(.+?):\\*\\*\\s*/);\n                        const subheader = subheaderMatch\n                          ? subheaderMatch[1]\n                          : null;\n                        const mainText =\n                          subheader && subheaderMatch\n                            ? instruction.slice(subheaderMatch[0].length)\n                            : instruction;\n\n                        return (\n                          <>\n                            {subheader && isActive && (\n                              <h3 className=\"text-2xl sm:text-3xl font-bold text-neutral-900 mb-4\">\n                                {subheader}\n                              </h3>\n                            )}\n\n                            <AutoFitText\n                              isActive={isActive}\n                              className={cn(\n                                \"font-medium transition-all\",\n                                isActive\n                                  ? \"text-3xl sm:text-4xl leading-[1.5] text-neutral-900\"\n                                  : \"text-lg text-neutral-600 line-clamp-3 leading-relaxed\"\n                              )}\n                            >\n                              {isActive\n                                ? mainText\n                                    .split(\n                                      /(\\d+(?:\\s*[-â€“to]+\\s*\\d+)?\\s*(?:minutes?|mins?|hours?|hrs?))/gi\n                                    )\n                                    .map((part, i) => {\n                                      if (\n                                        /\\d+(?:\\s*[-â€“to]+\\s*\\d+)?\\s*(?:minutes?|mins?|hours?|hrs?)/i.test(\n                                          part\n                                        )\n                                      ) {\n                                        const t = extractTimer(part);\n                                        const timerKey = `${idx}-${i}`;\n                                        const timerState = timers[timerKey];\n                                        const hasTimer =\n                                          timerState &&\n                                          timerState.remaining > 0;\n\n                                        // Determine timer state for color coding\n                                        let timerStatus:\n                                          | \"inactive\"\n                                          | \"running\"\n                                          | \"check\"\n                                          | \"max\" = \"inactive\";\n                                        if (hasTimer) {\n                                          const elapsed =\n                                            timerState.minTime -\n                                            timerState.remaining;\n                                          if (elapsed < 0) {\n                                            // Still counting down to minTime\n                                            timerStatus = \"running\";\n                                          } else {\n                                            // Past minTime - check if we're in the range or past maxTime\n                                            const totalRange =\n                                              timerState.maxTime -\n                                              timerState.minTime;\n                                            const timeIntoRange = elapsed;\n                                            if (timeIntoRange <= totalRange) {\n                                              // Still in check zone (between min and max)\n                                              timerStatus = \"check\";\n                                            } else {\n                                              // Past max time\n                                              timerStatus = \"max\";\n                                            }\n                                          }\n                                        }\n\n                                        return (\n                                          <span\n                                            key={i}\n                                            onClick={(e) => {\n                                              e.stopPropagation();\n                                              if (t) {\n                                                setTimers((prev) => {\n                                                  const current =\n                                                    prev[timerKey];\n                                                  if (current) {\n                                                    // Toggle running state\n                                                    return {\n                                                      ...prev,\n                                                      [timerKey]: {\n                                                        ...current,\n                                                        isRunning:\n                                                          !current.isRunning,\n                                                      },\n                                                    };\n                                                  } else {\n                                                    // Initialize and start at minTime\n                                                    return {\n                                                      ...prev,\n                                                      [timerKey]: {\n                                                        remaining: t.min,\n                                                        isRunning: true,\n                                                        minTime: t.min,\n                                                        maxTime: t.max,\n                                                      },\n                                                    };\n                                                  }\n                                                });\n                                              }\n                                            }}\n                                            className={cn(\n                                              \"font-bold cursor-pointer inline-flex items-center gap-2 px-3 py-1 rounded-2xl transition-all\",\n                                              timerStatus === \"running\" &&\n                                                \"bg-green-50 text-green-600 border-2 border-green-200\",\n                                              timerStatus === \"check\" &&\n                                                \"bg-yellow-50 text-yellow-700 border-2 border-yellow-300 animate-pulse\",\n                                              timerStatus === \"max\" &&\n                                                \"bg-red-50 text-red-600 border-2 border-red-300 animate-pulse\",\n                                              timerStatus === \"inactive\" &&\n                                                \"text-green-600 hover:bg-green-50\",\n                                              isActive &&\n                                                timerStatus === \"inactive\" &&\n                                                \"timer-shine\"\n                                            )}\n                                            style={{\n                                              WebkitTextFillColor:\n                                                isActive &&\n                                                timerStatus === \"inactive\"\n                                                  ? \"transparent\"\n                                                  : \"initial\",\n                                            }}\n                                          >\n                                            {hasTimer ? (\n                                              <span className=\"font-mono flex items-center gap-1.5\">\n                                                {formatTime(\n                                                  timerState.remaining\n                                                )}\n                                                {timerStatus === \"check\" && (\n                                                  <span className=\"text-xs font-bold\">\n                                                    âœ“ Check\n                                                  </span>\n                                                )}\n                                                {timerStatus === \"max\" && (\n                                                  <span className=\"text-xs font-bold\">\n                                                    âš  Max\n                                                  </span>\n                                                )}\n                                                {!timerState.isRunning && (\n                                                  <span className=\"text-xs\">\n                                                    (Paused)\n                                                  </span>\n                                                )}\n                                              </span>\n                                            ) : (\n                                              part\n                                            )}\n                                          </span>\n                                        );\n                                      }\n                                      return <span key={i}>{part}</span>;\n                                    })\n                                : instruction}\n                            </AutoFitText>\n                          </>\n                        );\n                      })()}\n                    </div>\n                  </div>\n                );\n              })}\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* Progress Bar */}\n      {activeTab === \"directions\" && (\n        <div className=\"hidden md:block fixed bottom-8 left-1/2 -translate-x-1/2 z-40 w-full max-w-md px-4\">\n          <div className=\"bg-white/90 backdrop-blur-xl border border-neutral-200 shadow-2xl rounded-2xl p-4\">\n            <div className=\"flex items-center justify-between mb-3\">\n              <span className=\"text-sm font-semibold text-neutral-900\">\n                Step {currentStepIndex + 1}{\" \"}\n                <span className=\"text-neutral-400\">\n                  of {recipe.instructions.length}\n                </span>\n              </span>\n              <span className=\"text-xs font-bold text-neutral-900\">\n                {Math.round(\n                  ((currentStepIndex + 1) / recipe.instructions.length) * 100\n                )}\n                %\n              </span>\n            </div>\n\n            <div className=\"flex gap-1.5 h-3\">\n              {recipe.instructions.map((_, i) => (\n                <div\n                  key={i}\n                  className={cn(\n                    \"h-full flex-1 rounded-full transition-all duration-300\",\n                    i <= currentStepIndex ? \"bg-neutral-900\" : \"bg-neutral-100\"\n                  )}\n                />\n              ))}\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Voice Control */}\n      <div className=\"hidden md:block\">\n        <VoiceControlButton\n          isListening={voiceControl.isListening}\n          isSupported={voiceControl.isSupported}\n          lastCommand={voiceControl.lastCommand}\n          error={voiceControl.error}\n          onStartListening={voiceControl.startListening}\n          onStopListening={voiceControl.stopListening}\n          onShowHelp={() => setShowVoiceHelp(true)}\n        />\n      </div>\n\n      <VoiceHelpModal\n        isOpen={showVoiceHelp}\n        onClose={() => setShowVoiceHelp(false)}\n      />\n\n      {/* Mobile Bottom Nav */}\n      <MobileBottomNav\n        activeTab={activeTab}\n        onTabChange={setActiveTab}\n        currentStep={currentStepIndex}\n        totalSteps={recipe.instructions.length}\n        progressPercentage={Math.round(\n          ((currentStepIndex + 1) / recipe.instructions.length) * 100\n        )}\n        isScrollingDown={isScrollingDown}\n        isVoiceListening={voiceControl.isListening}\n        isVoiceSupported={voiceControl.isSupported}\n        onVoiceToggle={() => {\n          if (voiceControl.isListening) {\n            voiceControl.stopListening();\n          } else {\n            voiceControl.startListening();\n          }\n        }}\n      />\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3147, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Danny/Downloads/chef-gemini-clone/components/loading-modal.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState, useEffect } from \"react\"\n\nexport function LoadingModal({ onCancel }: { onCancel?: () => void }) {\n  const [progress, setProgress] = useState(0)\n\n  useEffect(() => {\n    const interval = setInterval(() => {\n      setProgress((prev) => {\n        if (prev >= 95) return prev\n        const increment = Math.random() * 30\n        return Math.min(prev + increment, 95)\n      })\n    }, 500)\n\n    return () => clearInterval(interval)\n  }, [])\n\n  // Food icons for the spinner circle\n  const foodEmojis = [\"ðŸ—\", \"ðŸ…\", \"ðŸŽ\", \"ðŸ¥¦\", \"ðŸ²\", \"ðŸ¥•\", \"ðŸ„\", \"ðŸ¥’\"]\n\n  return (\n    <div className=\"fixed inset-0 bg-neutral-900/60 backdrop-blur-sm flex items-center justify-center z-50\">\n      <div className=\"bg-white rounded-3xl p-12 max-w-sm w-full mx-4 text-center space-y-8\">\n        <div className=\"flex justify-center items-center h-40\">\n          <div className=\"relative w-40 h-40\">\n            {/* Rotating circular background */}\n            <div className=\"absolute inset-0 animate-spin\" style={{ animationDuration: \"4s\" }}>\n              {foodEmojis.map((emoji, i) => {\n                const angle = (i / foodEmojis.length) * 360\n                return (\n                  <div\n                    key={i}\n                    className=\"absolute w-12 h-12 flex items-center justify-center text-2xl\"\n                    style={{\n                      transform: `rotate(${angle}deg) translateY(-80px) rotate(-${angle}deg)`,\n                      top: \"50%\",\n                      left: \"50%\",\n                      marginLeft: \"-24px\",\n                      marginTop: \"-24px\",\n                    }}\n                  >\n                    <div className=\"bg-gradient-to-br from-neutral-100 to-neutral-200 rounded-full w-12 h-12 flex items-center justify-center\">\n                      {emoji}\n                    </div>\n                  </div>\n                )\n              })}\n            </div>\n\n            {/* Center circle with spinner */}\n            <div className=\"absolute inset-0 flex items-center justify-center\">\n              <div className=\"w-16 h-16 border-4 border-neutral-200 border-t-neutral-900 rounded-full animate-spin\" />\n            </div>\n          </div>\n        </div>\n\n        {/* Text content */}\n        <div className=\"space-y-2\">\n          <p className=\"text-xl font-bold text-neutral-900\">Extracting recipe...</p>\n          <p className=\"text-sm text-neutral-500\">Estimated time: 15 to 25 seconds</p>\n        </div>\n\n        <div className=\"space-y-2\">\n          <div className=\"w-full bg-neutral-200 rounded-full h-2 overflow-hidden\">\n            <div\n              className=\"bg-neutral-900 h-full rounded-full transition-all duration-300 ease-out\"\n              style={{\n                width: `${progress}%`,\n              }}\n            />\n          </div>\n        </div>\n\n        {/* Cancel button */}\n        {onCancel && (\n          <button\n            onClick={onCancel}\n            className=\"w-full py-3 px-4 text-neutral-600 hover:bg-neutral-100 rounded-2xl transition-colors text-sm font-medium\"\n          >\n            Cancel\n          </button>\n        )}\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAIO,SAAS,aAAa,EAAE,QAAQ,EAA6B;IAClE,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,yPAAQ,EAAC;IAEzC,IAAA,0PAAS,EAAC;QACR,MAAM,WAAW,YAAY;YAC3B,YAAY,CAAC;gBACX,IAAI,QAAQ,IAAI,OAAO;gBACvB,MAAM,YAAY,KAAK,MAAM,KAAK;gBAClC,OAAO,KAAK,GAAG,CAAC,OAAO,WAAW;YACpC;QACF,GAAG;QAEH,OAAO,IAAM,cAAc;IAC7B,GAAG,EAAE;IAEL,oCAAoC;IACpC,MAAM,aAAa;QAAC;QAAM;QAAM;QAAM;QAAM;QAAM;QAAM;QAAM;KAAK;IAEnE,qBACE,sRAAC;QAAI,WAAU;kBACb,cAAA,sRAAC;YAAI,WAAU;;8BACb,sRAAC;oBAAI,WAAU;8BACb,cAAA,sRAAC;wBAAI,WAAU;;0CAEb,sRAAC;gCAAI,WAAU;gCAAgC,OAAO;oCAAE,mBAAmB;gCAAK;0CAC7E,WAAW,GAAG,CAAC,CAAC,OAAO;oCACtB,MAAM,QAAQ,AAAC,IAAI,WAAW,MAAM,GAAI;oCACxC,qBACE,sRAAC;wCAEC,WAAU;wCACV,OAAO;4CACL,WAAW,CAAC,OAAO,EAAE,MAAM,+BAA+B,EAAE,MAAM,IAAI,CAAC;4CACvE,KAAK;4CACL,MAAM;4CACN,YAAY;4CACZ,WAAW;wCACb;kDAEA,cAAA,sRAAC;4CAAI,WAAU;sDACZ;;;;;;uCAXE;;;;;gCAeX;;;;;;0CAIF,sRAAC;gCAAI,WAAU;0CACb,cAAA,sRAAC;oCAAI,WAAU;;;;;;;;;;;;;;;;;;;;;;8BAMrB,sRAAC;oBAAI,WAAU;;sCACb,sRAAC;4BAAE,WAAU;sCAAqC;;;;;;sCAClD,sRAAC;4BAAE,WAAU;sCAA2B;;;;;;;;;;;;8BAG1C,sRAAC;oBAAI,WAAU;8BACb,cAAA,sRAAC;wBAAI,WAAU;kCACb,cAAA,sRAAC;4BACC,WAAU;4BACV,OAAO;gCACL,OAAO,GAAG,SAAS,CAAC,CAAC;4BACvB;;;;;;;;;;;;;;;;gBAML,0BACC,sRAAC;oBACC,SAAS;oBACT,WAAU;8BACX;;;;;;;;;;;;;;;;;AAOX"}},
    {"offset": {"line": 3323, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Danny/Downloads/chef-gemini-clone/components/app-loader.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\n\r\nexport function AppLoader() {\r\n  const fullText = \"Preparing your kitchen...\";\r\n  const [displayedText, setDisplayedText] = useState(\"\");\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n  // Typing animation logic\r\n  useEffect(() => {\r\n    let index = 0;\r\n\r\n    const typingInterval = setInterval(() => {\r\n      setDisplayedText(fullText.slice(0, index + 1));\r\n      index++;\r\n\r\n      if (index === fullText.length) {\r\n        clearInterval(typingInterval);\r\n\r\n        // Wait 2 seconds before hiding loader\r\n        setTimeout(() => {\r\n          setIsLoading(false);\r\n        }, 2000);\r\n      }\r\n    }, 70); // typing speed\r\n\r\n    return () => clearInterval(typingInterval);\r\n  }, []);\r\n\r\n  return (\r\n    <AnimatePresence>\r\n      {isLoading && (\r\n        <motion.div\r\n          initial={{ opacity: 1 }}\r\n          exit={{ opacity: 0 }}\r\n          transition={{ duration: 0.6, ease: \"easeOut\" }}\r\n          className=\"fixed inset-0 z-[200] bg-neutral-100 flex items-center justify-center\"\r\n        >\r\n          <div className=\"text-center\">\r\n\r\n            {/* PULSE LOGO */}\r\n            <motion.img\r\n              src=\"/loadLogo.png\"\r\n              alt=\"Chef Logo\"\r\n              className=\"w-20 h-20 sm:w-32 sm:h-32 mx-auto mb-6 object-contain\"\r\n              animate={{ scale: [1, 1.15, 1] }}\r\n              transition={{\r\n                duration: 1.8,\r\n                repeat: Infinity,\r\n                ease: \"easeInOut\",\r\n              }}\r\n            />\r\n\r\n            {/* Typing Subtitle */}\r\n            <motion.p\r\n              className=\"text-neutral-900 text-sm sm:text-base font-medium tracking-wide\"\r\n              initial={{ opacity: 0 }}\r\n              animate={{ opacity: 1 }}\r\n              transition={{ duration: 0.3 }}\r\n            >\r\n              {displayedText}\r\n              <span className=\"animate-pulse\">|</span>\r\n            </motion.p>\r\n          </div>\r\n        </motion.div>\r\n      )}\r\n    </AnimatePresence>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAAA;AAHA;;;;AAKO,SAAS;IACd,MAAM,WAAW;IACjB,MAAM,CAAC,eAAe,iBAAiB,GAAG,IAAA,yPAAQ,EAAC;IACnD,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yPAAQ,EAAC;IAE3C,yBAAyB;IACzB,IAAA,0PAAS,EAAC;QACR,IAAI,QAAQ;QAEZ,MAAM,iBAAiB,YAAY;YACjC,iBAAiB,SAAS,KAAK,CAAC,GAAG,QAAQ;YAC3C;YAEA,IAAI,UAAU,SAAS,MAAM,EAAE;gBAC7B,cAAc;gBAEd,sCAAsC;gBACtC,WAAW;oBACT,aAAa;gBACf,GAAG;YACL;QACF,GAAG,KAAK,eAAe;QAEvB,OAAO,IAAM,cAAc;IAC7B,GAAG,EAAE;IAEL,qBACE,sRAAC,oPAAe;kBACb,2BACC,sRAAC,4OAAM,CAAC,GAAG;YACT,SAAS;gBAAE,SAAS;YAAE;YACtB,MAAM;gBAAE,SAAS;YAAE;YACnB,YAAY;gBAAE,UAAU;gBAAK,MAAM;YAAU;YAC7C,WAAU;sBAEV,cAAA,sRAAC;gBAAI,WAAU;;kCAGb,sRAAC,4OAAM,CAAC,GAAG;wBACT,KAAI;wBACJ,KAAI;wBACJ,WAAU;wBACV,SAAS;4BAAE,OAAO;gCAAC;gCAAG;gCAAM;6BAAE;wBAAC;wBAC/B,YAAY;4BACV,UAAU;4BACV,QAAQ;4BACR,MAAM;wBACR;;;;;;kCAIF,sRAAC,4OAAM,CAAC,CAAC;wBACP,WAAU;wBACV,SAAS;4BAAE,SAAS;wBAAE;wBACtB,SAAS;4BAAE,SAAS;wBAAE;wBACtB,YAAY;4BAAE,UAAU;wBAAI;;4BAE3B;0CACD,sRAAC;gCAAK,WAAU;0CAAgB;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAO9C"}},
    {"offset": {"line": 3440, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Danny/Downloads/chef-gemini-clone/app/page.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState } from \"react\"\nimport { ChefHeader } from \"@/components/chef-header\"\nimport { RecipeInput } from \"@/components/recipe-input\"\nimport { RecipeOverview } from \"@/components/recipe-overview\"\nimport { CookingInterface } from \"@/components/cooking-interface\"\nimport { LoadingModal } from \"@/components/loading-modal\"\nimport { AppLoader } from \"@/components/app-loader\"\nimport { useAction } from \"convex/react\"\nimport { api } from \"@/convex/_generated/api\"\n\nexport default function HomePage() {\n  const [currentPage, setCurrentPage] = useState<\"home\" | \"overview\" | \"cooking\">(\"home\")\n  const [generatedRecipe, setGeneratedRecipe] = useState<any>(null)\n  const [isLoading, setIsLoading] = useState(false)\n  const generateRecipeAction = useAction(api.actions.generateRecipe)\n\n  const handleGenerateRecipe = async (input: string, inputType: \"youtube\" | \"text\") => {\n    setIsLoading(true)\n    try {\n      // const response = await fetch(\"/api/generate-recipe\", {\n      //   method: \"POST\",\n      //   headers: { \"Content-Type\": \"application/json\" },\n      //   body: JSON.stringify({ input, inputType }),\n      // })\n\n      // if (!response.ok) {\n      //   const errorData = await response.json()\n      //   throw new Error(errorData.error || \"Failed to generate recipe\")\n      // }\n\n      // const recipe = await response.json()\n      const recipe = await generateRecipeAction({ input, inputType })\n      setGeneratedRecipe(recipe)\n      setCurrentPage(\"overview\")\n    } catch (error: any) {\n      console.error(\"Error generating recipe:\", error)\n      alert(error.message || \"Failed to generate recipe. Please try again.\")\n    } finally {\n      setIsLoading(false)\n    }\n  }\n\n  const handleStartCooking = () => {\n    setCurrentPage(\"cooking\")\n  }\n\n  const handleBackHome = () => {\n    setCurrentPage(\"home\")\n    setGeneratedRecipe(null)\n  }\n\n  const handleBackToOverview = () => {\n    setCurrentPage(\"overview\")\n  }\n\n  const handleCancelLoading = () => {\n    setIsLoading(false)\n  }\n\n  return (\n    <main className=\"min-h-screen bg-neutral-50\">\n      <AppLoader />\n      {/* Header removed as per request */}\n\n      {isLoading && <LoadingModal onCancel={handleCancelLoading} />}\n\n      {currentPage === \"home\" ? (\n        <RecipeInput onGenerate={handleGenerateRecipe} isLoading={isLoading} />\n      ) : currentPage === \"overview\" ? (\n        <div className=\"px-4 sm:px-6 lg:px-8 py-8\">\n          <RecipeOverview recipe={generatedRecipe} onStartCooking={handleStartCooking} onBack={handleBackHome} />\n        </div>\n      ) : (\n        <CookingInterface recipe={generatedRecipe} onBack={handleBackToOverview} />\n      )}\n    </main>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAVA;;;;;;;;;;AAYe,SAAS;IACtB,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,yPAAQ,EAAkC;IAChF,MAAM,CAAC,iBAAiB,mBAAmB,GAAG,IAAA,yPAAQ,EAAM;IAC5D,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yPAAQ,EAAC;IAC3C,MAAM,uBAAuB,IAAA,6MAAS,EAAC,0KAAG,CAAC,OAAO,CAAC,cAAc;IAEjE,MAAM,uBAAuB,OAAO,OAAe;QACjD,aAAa;QACb,IAAI;YACF,yDAAyD;YACzD,oBAAoB;YACpB,qDAAqD;YACrD,gDAAgD;YAChD,KAAK;YAEL,sBAAsB;YACtB,4CAA4C;YAC5C,oEAAoE;YACpE,IAAI;YAEJ,uCAAuC;YACvC,MAAM,SAAS,MAAM,qBAAqB;gBAAE;gBAAO;YAAU;YAC7D,mBAAmB;YACnB,eAAe;QACjB,EAAE,OAAO,OAAY;YACnB,QAAQ,KAAK,CAAC,4BAA4B;YAC1C,MAAM,MAAM,OAAO,IAAI;QACzB,SAAU;YACR,aAAa;QACf;IACF;IAEA,MAAM,qBAAqB;QACzB,eAAe;IACjB;IAEA,MAAM,iBAAiB;QACrB,eAAe;QACf,mBAAmB;IACrB;IAEA,MAAM,uBAAuB;QAC3B,eAAe;IACjB;IAEA,MAAM,sBAAsB;QAC1B,aAAa;IACf;IAEA,qBACE,sRAAC;QAAK,WAAU;;0BACd,sRAAC,iLAAS;;;;;YAGT,2BAAa,sRAAC,uLAAY;gBAAC,UAAU;;;;;;YAErC,gBAAgB,uBACf,sRAAC,qLAAW;gBAAC,YAAY;gBAAsB,WAAW;;;;;uBACxD,gBAAgB,2BAClB,sRAAC;gBAAI,WAAU;0BACb,cAAA,sRAAC,2LAAc;oBAAC,QAAQ;oBAAiB,gBAAgB;oBAAoB,QAAQ;;;;;;;;;;qCAGvF,sRAAC,+LAAgB;gBAAC,QAAQ;gBAAiB,QAAQ;;;;;;;;;;;;AAI3D"}}]
}